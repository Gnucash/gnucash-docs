<!--
    (Do not remove this comment block.)
    Version: 2.0.x
    Last modified: April 15th 2007
    modified: August 12th 2006
    modified: February 28th 2005

Maintainers:
Chris Lyttle <chris@wilddev.net>
Neil Williams <linux@codehelp.co.uk>

Author:
Chris Lyttle <chris@wilddev.net>
Translators:
(translators put your name and email here)
-->

<!--
    Common Transaction Operations Items Here !!!
-->

<chapter id="ch_Common_Trans_Ops">
  <title>Common Transaction Operations</title>

  <para>A <emphasis>transaction</emphasis> represents the movement of money from one account to another account. Whenever you spend or
  receive money, or transfer money between accounts, that is a transaction. In <application>&app;</application> transactions always involve
  at least two accounts.</para>

  <para><application>&app;</application> uses accounts as a way of grouping or organizing the recording of transactions.
  This section describes the methods <application>&app;</application> has to help enter transactions
  quickly into the register. </para>
  <para></para>

  <para><application>&app;</application> has several methods available for entering transactions.</para>

  <itemizedlist>
    <listitem>
      <para>Entering directly into the register window is the most common way of entering transactions.</para>
    </listitem>

    <listitem>
      <para>Using the <guilabel>Transfer Funds</guilabel> window .</para>
    </listitem>

    <listitem>
      <para>Importing transactions either from a file or via on-line banking.
      </para>
    </listitem>

  </itemizedlist>
  <!--
      <note>
      <para>Where should the Importing of data from downloaded files" and "On-line" banking be covered?.
      </para></note>
  -->

  <sect1 id="trans-win-enter">
    <title>Transfer Funds Dialog Box</title>
    <para>The <guilabel>Transfer Funds Dialog Box</guilabel>, accessed
    via <menuchoice><guimenu>Actions</guimenu>
    <guimenuitem>Transfer...</guimenuitem></menuchoice> or its
    shortcut or by pressing the <guibutton>Transfer</guibutton> icon
    from the account register tab, serves two purposes in
    <application>&app;</application>: <itemizedlist><listitem><para>A way to
    create a simple (i.e. two-split) transaction between arbitrary
    accounts.</para></listitem> <listitem><para>Collect exchange rate or amount
    information in a multi-currency transaction (see <xref
    linkend="trans-currency-enter"/>).</para></listitem></itemizedlist>
    </para>
    <note><para>The <guilabel>Basic Information</guilabel> and
    <guilabel>Transfer Accounts</guilabel> panes will be disabled in
    the <guilabel>Transfer Funds</guilabel> dialog when it is being
    used only to collect exchange rate or amount
    information.</para></note>
    <sect2><title>Basic Information</title>
    <para> The Basic Information section collects the entries for
    constructing a transaction: Date, description, amount, etc.</para>
    <itemizedlist>
      <listitem><para><guilabel>Amount:</guilabel> The amount of the transaction in the <guilabel>Transfer From</guilabel>account's commodity.</para></listitem>
      <listitem><para><guilabel>Date:</guilabel> The posting date for the
      transaction, i.e. the date that you want to record it in your
      book.</para></listitem>
      <listitem><para><guilabel>Num:</guilabel> A reference number for the
      transaction, often a check number.</para></listitem>
      <listitem><para><guilabel>Description:</guilabel> The description of
      the transaction, often the payer or payee.</para></listitem>
      <listitem><para><guilabel>Memo:</guilabel> Additional information you
      might want to note about the transaction. Anything entered here
      will be added to the <guilabel>Memo</guilabel> fields of
      <emphasis role="italic">both</emphasis> splits.</para></listitem>
    </itemizedlist>
    </sect2>
    <sect2><title>Transfer Accounts</title>
    <para>The <guilabel>Transfer From</guilabel> and
    <guilabel>Transfer To</guilabel> tree views are used to select the
    accounts which will participate in the transaction. They normally
    show only Asset and Liability accounts. If you need to use an
    Income or Expense account in one of them, check the <guilabel>Show
    Income/Expense</guilabel> checkbox below the appropriate
    view.</para>
    <itemizedlist>
      <listitem>
        <para>Choose the <guilabel>Transfer From</guilabel> account.</para>
      </listitem>

      <listitem>
        <para>Choose the <guilabel>Transfer To</guilabel> account.</para>
      </listitem>
    </itemizedlist>
    </sect2>
    <sect2 id="trans-win-price"><title>Currency Transfer</title>
    <para> The <guilabel>Currency Transfer</guilabel> pane is used to
    collect the needed information to enter the amount of the
    <guilabel>Transfer To</guilabel> split. You may enter either a
    price or an amount and <application>&app;</application> will
    compute the other. If you have Online Price Retrieval installed
    (see <xref linkend="Online-price-setup"/>) you can use the
    <guilabel>Fetch Rate</guilabel> button to retrieve a current
    quote.</para>
    <para>The <guilabel>Currency Transfer</guilabel> pane is enabled
    only if the selected accounts use different commodities or the
    <guilabel>Transfer Funds</guilabel> dialog was launched to collect
    price or amount information from editing a transaction in the
    register. </para>
    <para>The <guilabel>Currency Transfer</guilabel> pane is organized
    as a radio group with two selections, <guilabel>Exchange
    Rate</guilabel> and <guilabel>To Amount</guilabel>. Each consists
    of a radio button and a numeric entry.</para>
    <para> If a relevant price is available in the price database (see
    <xref linkend="invest-stockprice-manual"/>) the <guilabel>Exchange
    Rate</guilabel> will have that as a default entry.</para>
    <itemizedlist>
      <listitem><para>Select the <guilabel>Exchange Rate</guilabel> radio
      button if you want to enter a price or use the <guilabel>Fetch
      Rate</guilabel> button.</para></listitem>
      <listitem><para>Select the
      <guilabel>To Amount</guilabel> radio button if you want to enter
      the amount of the <emphasis role="italic">To Account</emphasis>
      split.</para></listitem>
      <listitem><para>Enter the price/exchange rate or the amount in the
      numeric entry corresponding to radio button you
      selected. <application>&app;</application> will calculate the
      other amount for you when you exit the field. If it's enabled
      you can use the <guilabel>Fetch Rate</guilabel> button to
      retrieve a current quote.</para></listitem>
    </itemizedlist>
      <note><para>If you have created a price in the <guilabel>Price
      Editor</guilabel> (see <xref
      linkend="invest-stockprice-manual"/>) for the current date quote
      retrieval will not update that price. You must first delete the
      manually-created price in the <guilabel>Price Editor</guilabel>
      before clicking the <guibutton>Fetch Rate</guibutton>
      button.</para></note>
      <note><para>The <guibutton>Fetch
      Rate</guibutton> button will immediately create or replace a
      price in the <guilabel>Price Editor</guilabel> unless there is
      an existing manually-created price for
      today.</para></note>
    </sect2>
    <sect2><title>Finishing Up</title>
    <para>Select <guibutton>OK</guibutton> to commit the transaction
    (or confirm the price/amount) or <guibutton>Cancel</guibutton> to
    dismiss the dialog without entering the
    transaction.<note><para>When committing a transaction or
    confirming an exchange rate the price on the transaction date in
    the <guilabel>Price Editor</guilabel> may be updated. See <xref
    linkend="tool-price"/> for details.</para></note></para>
    </sect2>
  </sect1>

  <sect1 id="trans-enter">
    <title>Enter Transaction via register</title>

    <para>When the Account Register Window for an account is opened the list of transactions for that
    account is shown. This window has the name of the account on its tab. The menus contain several
    functions that alter the display of transactions. The <emphasis>Toolbar</emphasis> also contains several functions that are
    often used when entering or manipulating transactions. These are described in the
    <xref linkend="account-register"></xref> section of this document.</para>

    <sect2 id="trans-reg-enter">
      <title>Entering Directly in the Register Window</title>

      <para>The register window will look slightly different depending on the style options you have chosen.
      The following describes entering simple transactions in the basic ledger style. The cursor is placed
      in the <guilabel>date</guilabel> field by default when the register window is opened.</para>

      <note>
        <para>When working on transactions in <application>&app;</application>, be aware that the
        <keycap function="enter">Enter</keycap> key and the <keycap function="tab">Tab</keycap> key behave
        differently, and perform different actions.</para>
        <para>The <keycap function="enter">Enter</keycap> key moves to the first field of the next split,
        regardless of which field you are in. If there is no next split, proceeds to the next transaction.
        In any case, <keycap function="enter">Enter</keycap> finishes the transaction edit, and any
        imbalance is posted to <emphasis>Imbalance-CUR</emphasis>, where <emphasis>CUR</emphasis> is the
        currency of the transaction.</para>
        <para>The <keycap function="tab">Tab</keycap> key moves to the next field in the current split.
        If it's the last field, moves to the next split, creating a new one if there isn't one. If the
        split is blank, the <keycap function="tab">Tab</keycap> key finishes the transaction and posts any
        imbalance to <emphasis>Imbalance-CUR</emphasis>, as above.</para>
      </note>

      <orderedlist>
        <listitem>
          <para>Selecting the small icon on the right of the date field drops down a date selection calendar.
          Use the arrows to select the correct month and year for the transaction then select the date.
          Selecting the icon once more will close the date selection calendar. It is also possible to
          type in the date or part of the date and let <application>&app;</application> fill the rest.</para>
        </listitem>

        <listitem>
          <para>Press <keycap>Tab</keycap> to move to or select the <guilabel>Num</guilabel> field. Here you can enter a check or
          transaction number.  Pressing <keycap>+</keycap> (plus) will automatically advance the number by one from
          the last transaction to have a number.</para>
        </listitem>

        <listitem>
          <para>Press <keycap>Tab</keycap> to move or select the <guilabel>Description</guilabel> field. This field is used to enter
          either a payee or other description for the transaction. It will automatically attempt to fill the payee
          name as you type.</para>
        </listitem>

        <listitem>
          <para>At this stage one of two things will happen if tab is pressed. If <application>&app;</application> matches an existing
          transaction the cursor will jump to one of the amount fields, automatically filling in the transfer
          account.  Selecting any field with the mouse instead of tabbing will not automatically fill the
          transferring account field.  If there is no matching (existing) transaction, <application>&app;</application> will move the
          cursor to the <guilabel>Transfer</guilabel> field with only one line of the transaction supplied.</para>
        </listitem>

        <listitem>
          <para> Accounts may be selected either by typing them in or
          by pressing the small button on the right of the
          <guilabel>Transfer</guilabel> field, which will display a
          pick list of all non-placeholder accounts. Note that this pick list
          will still display hidden accounts. If you have hidden an account in
          your chart of accounts, you may want to set the account also to be
          a placeholder account so that it doesn't display here.
          </para>
          <para> When typing, <application>&app;</application> will
          fill in available accounts as you type. For example, if you
          have <emphasis>Equity</emphasis> and
          <emphasis>Expenses</emphasis> top-level accounts, typing
          <keycap>E</keycap> will fill in <emphasis
          role="bold">Equity</emphasis> because it sorts before
          <emphasis role="bold">Expenses</emphasis>. Continuing to
          type <keycap>x</keycap> will present <emphasis
          role="bold">Expenses</emphasis> the account separator
          (<keycap>:</keycap> by default, see <xref
          linkend="prefs-accounts"></xref>Account Preferences about
          changing it) will accept the currently offered account so
          that you can start typing the name of a child
          account.</para>
        </listitem>

        <listitem>
          <para>The next field (R) is used for reconciliation. This is described in the <guimenu>Reconcile an
          Account to a Statement</guimenu> section.  <xref linkend="acct-reconcile"></xref></para>
        </listitem>

        <listitem>
          <para>Press the <keycap>Tab</keycap> key to move to the first of the amount fields. The names of the next two columns are different
          according to what type of account is opened. For example, <emphasis>Bank</emphasis> accounts show <guilabel>Deposit</guilabel> and
          <guilabel>Withdrawal</guilabel> here, <emphasis>Credit Card</emphasis> accounts show <guilabel>Payment</guilabel> and
          <guilabel>Charge</guilabel>, and <emphasis>Stock</emphasis> accounts show <guilabel>Shares</guilabel>, <guilabel>Price</guilabel>,
          <guilabel>Buy</guilabel> and <guilabel>Sell</guilabel>.</para>
        </listitem>

        <listitem>
          <para>Enter an amount for the transaction in the correct fields. When the transaction is "balanced"
          pressing the <keycap function="enter">Enter</keycap> key, selecting the <guibutton>Enter</guibutton> icon or going to
          <menuchoice><guimenu>Transaction</guimenu><guimenuitem>Enter Transaction</guimenuitem></menuchoice> will
          finish the transaction. Selecting the <guibutton>Cancel</guibutton> icon or going to
          <menuchoice><guimenu>Transaction</guimenu><guimenuitem>Cancel Transaction</guimenuitem></menuchoice>
          will erase the transaction.</para>
        </listitem>

        <listitem>
          <para>Transactions with just one transfer account will show the name of that account in the <guilabel>Transfer</guilabel>
          field in completed transactions. (The <guilabel>Transfer</guilabel> field is the fourth (4) from the left in the register
          display.)</para>
        </listitem>

        <listitem>
          <para>To move to the blank transaction at the bottom of the register, press the
          <guibutton>Blank</guibutton> <emphasis>Toolbar</emphasis> icon or go to
          <menuchoice><guimenu>Actions</guimenu><guimenuitem>Blank Transaction</guimenuitem></menuchoice>.
          </para>
        </listitem>
      </orderedlist>
    </sect2>
  </sect1>


  <sect1 id="trans-multi-enter">
    <title>Multiple Split Transactions</title>

    <para>The register window will look slightly different depending on the style options you have chosen.
    The following describes entering transactions with multiple splits in the basic ledger style. <application>&app;</application> describes
    as a <quote>Split</quote> when money is transferred to or from more than two accounts in a transaction.
    The cursor is placed in the date field by default when the register window is opened.</para>

    <para>The multiple account lines will not be displayed in the Basic Ledger unless the <guibutton>Split</guibutton>
    icon or the <menuchoice><guimenu>Action</guimenu><guimenuitem>Split Transaction</guimenuitem></menuchoice> option have been selected.
    </para>

    <orderedlist>
      <listitem>
        <para>Selecting the triangle icon on the right of the date field drops down a date selection dialog.
        Use the arrows to select the correct month and year for the transaction then select the date. Selecting
        the icon once more will close the date selection calendar. It is also possible to type in the
        date or part of the date and let <application>&app;</application> fill the rest.</para>
      </listitem>

      <listitem>
        <para>Press <keycap>Tab</keycap> to move to or select the <guilabel>Num</guilabel> field. Here you can enter a check or
        transaction number.  Pressing <keycap>+</keycap> (plus) will automatically advance the number by one from
        the last transaction to have a number.</para>
      </listitem>

      <listitem>
        <para>Press <keycap>Tab</keycap> to move to or select the <guilabel>Description</guilabel> field. This field is used to enter
        either a payee or other description for the transaction. It will automatically attempt to fill the payee name
        as you type.</para>
      </listitem>

      <listitem>
        <para>At this stage one of two things will happen if tab is pressed. If <application>&app;</application> matches an existing
        transaction the cursor will jump to one of the amount fields, automatically filling in the transfer
        account.  Selecting any field with the mouse instead of tabbing will not automatically fill the
        transferring account field.  If there is no matching (existing) transaction, <application>&app;</application> will move the
        cursor to the <guilabel>Transfer</guilabel> field with only one line of the transaction supplied.</para>
      </listitem>

      <listitem>
        <para>When typing in the <guilabel>Transfer</guilabel> field <application>&app;</application> will also attempt to automatically match the account.
        It does this alphabetically, so typing <emphasis>Ex</emphasis> will match the <emphasis>Expenses</emphasis> section of the account list.
        When the section is matched, it is possible to move to a child account by pressing <keycap>:</keycap> (colon).
        If after typing <emphasis>Ex</emphasis> you press <keycap>:</keycap> then the cursor will move to the first child account in the
        list.  Typing combinations of letters and <keycap>:</keycap> will allow movement down the tree of accounts
        quickly. The small icon on the right of the <guilabel>Transfer</guilabel> field can be used as an alternate way of selecting accounts.
        </para>
      </listitem>

      <listitem>
        <para>The next field is used for reconciliation. This is described in <xref linkend="acct-reconcile"></xref></para>
      </listitem>

      <listitem>
        <para>Press <keycap>Tab</keycap> to move to the first of the amount fields. The names of the next two columns
        are different according to what type of account is opened. For example, Bank accounts show
        Deposit and Withdrawal here, Credit Card accounts show Payment and Charge, and Stock accounts
        show Shares, Price, Buy and Sell.</para>
      </listitem>

      <listitem>
        <para>Enter the total amount for the transaction in the correct field. Before pressing <keycap>Tab</keycap>
        or <keycap function="enter">Enter</keycap> read next step.</para>
      </listitem>

      <listitem>
        <para>To enter the additional splits, press the <guibutton>Split</guibutton> button on the <emphasis>Toolbar</emphasis> or select
        <menuchoice><guimenu>Actions</guimenu><guimenuitem>Split Transaction</guimenuitem></menuchoice>.
        Transactions with more than one split show the text <emphasis>--Split Transaction--</emphasis> and the
        <guibutton>Split</guibutton> button will need to be used
        to show the details.</para>
      </listitem>

      <listitem>
        <para>The display will expand, the titles of the amount columns will be renamed and the <guilabel>Transfer</guilabel>
        column name will be blank. The first line contains the description and the amount of the transaction.
        The second line contains the currently opened account name in the <guilabel>Account</guilabel> field and the amount of
        the transaction. The third line contains the transfer account name in the <guilabel>Account</guilabel> field. If the
        amount is not balanced, <application>&app;</application> will indicate this by placing gray check-boxes in the amount columns
        with the unbalanced amount in a blank last row.</para>
      </listitem>

      <listitem>
        <para>When one of the short lines is selected, the column titles will change. The very first and last
        (<guilabel>Date</guilabel> and <guilabel>Balance</guilabel>) columns will have blank titles. <guilabel>Num</guilabel>
        will change to <guilabel>Action</guilabel>, <guilabel>Description</guilabel> to <guilabel>Memo</guilabel>,
        the now blank <guilabel>Transfer</guilabel> column will change to <guilabel>Account</guilabel>. The last two amount columns
        will show the name described in step seven.</para>
      </listitem>

      <listitem>
        <para>The <guilabel>Action</guilabel> and <guilabel>Memo</guilabel> columns are optional to fill out at this stage.
        <guilabel>Action</guilabel> is used to describe what kind of account transfer is involved. <guilabel>Memo</guilabel>
        is an additional description of the transfer.</para>
      </listitem>

      <listitem>
        <para>Move to the missing amount field on the third line and fill in the amount. Pressing the
        <keycap function="enter">Enter</keycap> key, selecting the <guibutton>Enter</guibutton> icon or going to
        <menuchoice><guimenu>Actions</guimenu><guimenuitem>Enter</guimenuitem></menuchoice>
        will now move the cursor to the next line.</para>
      </listitem>

      <listitem>
        <para>The <guilabel>Account</guilabel> column contains the list of transfer accounts. This column is the one that is used
        to add splits. The method described in step five can be used to select another account on a blank line.
        Add as many additional splits as needed.</para>
      </listitem>

      <listitem>
        <para>When the transaction is balanced the gray check-boxes will disappear and the last blank line will
        not have an amount.</para>
      </listitem>

      <listitem>
        <para>Pressing <keycap function="enter">Enter</keycap> as described above will jump to the next
        transaction. Selecting the next transaction will close the split or it can be manually closed by pressing
        the <guibutton>Split</guibutton> icon or selecting
        <menuchoice><guimenu>Actions</guimenu><guimenuitem>Split Transaction</guimenuitem></menuchoice>.</para>
      </listitem>
    </orderedlist>

  </sect1>

  <sect1 id="trans-currency-enter">
    <title>Multiple Currency/Commodity Transactions</title>

    <para>Any transaction that has splits whose accounts are
    denominated in different commodities (currencies are a subset
    of commodities) requires an exchange rate to convert between
    the two. For more information please see Chapter 10 of the
    <emphasis role="italic">Tutorial and Concepts Guide</emphasis>.</para>
    <para>Registers for accounts of type STOCK or FUND display
    four columns, <guilabel>Shares</guilabel>,
    <guilabel>Price</guilabel>, <guilabel>Buy</guilabel>, and
    <guilabel>Sell</guilabel> (the last two will be
    <guilabel>Credit</guilabel> and <guilabel>Debit</guilabel>
    respectively if you've enabled <guilabel>Use formal accounting
    labels</guilabel> in the <guilabel>Accounts</guilabel> tab of
    <guilabel>Preferences</guilabel>). Enter any two and
    <application>&app;</application> will calculate the other for
    you; if you enter 3 and the result doesn't balance
    <application>&app;</application> will ask which one to change
    to make the split balance.</para>
    <para>Registers of other types have only
    <guilabel>Credit</guilabel> and <guilabel>Debit</guilabel> (the
    names will be different depending on the account type if you
    haven't enabled <guilabel>Use formal accounting labels</guilabel>)
    and so use the <guilabel>Transfer Dialog</guilabel> with most of
    the fields disabled to collect either an <guilabel>Exchange
    Rate</guilabel> or a <guilabel>To Amount</guilabel> (the amount in
    the other currency/comodity). Please see (<xref
    linkend="trans-win-price"></xref>) for details of using this
    dialog.</para>
    <note><para>When committing a transaction or confirming
    an exchange rate the price on the transaction date in the
    <guilabel>Price Editor</guilabel> may be updated. See <xref
    linkend="tool-price"/> for details.</para></note>
  </sect1>

  <sect1 id="trans-edit">
    <title>Editing a Transaction</title>

    <para>Editing a transaction involves just selecting the part of the transaction that needs to be changed.
    Once the changes are complete pressing the <keycap function="enter">Enter</keycap> key, selecting the
    <guibutton>Enter</guibutton> icon or going to
    <menuchoice><guimenu>Transaction</guimenu><guimenuitem>Enter Transaction</guimenuitem></menuchoice> will
    now move the cursor to the next line or transaction.
    </para>

    <para>To see a more detailed view of a transaction for editing in Basic Ledger, press the
    <guibutton>Split</guibutton> button on the <emphasis>Toolbar</emphasis> or select
    <menuchoice><guimenu>Actions</guimenu><guimenuitem>Split Transaction</guimenuitem></menuchoice>.</para>
  </sect1>

  <sect1 id="trans-delete">
    <title>Deleting a Transaction</title>

    <para>If a transaction needs to be removed from the register, select the transaction and press either
    the <guibutton>Delete</guibutton> icon on the <emphasis>Toolbar</emphasis> or go to
    <menuchoice><guimenu>Transaction</guimenu><guimenuitem>Delete Transaction</guimenuitem></menuchoice>.

    A window will appear to confirm the delete, unless the preference has been changed.  The window presents
    two options; "Remember and don&rsquo;t ask again", and "Remember and don&rsquo;t ask again this session". The response
    will be set according to the selected checkbox.  The preference can also be reset via
    <menuchoice><guimenu>Actions</guimenu><guimenuitem>Reset Warnings</guimenuitem></menuchoice>.  <xref linkend="reset-warning"></xref>.</para>

    <para>Parts of a transaction can also be removed by pressing the <guibutton>Split</guibutton> button on
    the <emphasis>Toolbar</emphasis> or selecting
    <menuchoice><guimenu>Actions</guimenu><guimenuitem>Split Transaction</guimenuitem></menuchoice>. The part of the
    transaction that needs to be deleted can be then selected for deletion.</para>
  </sect1>
  
  <sect1 id="trans-reverse">
     <title>Add Reversing Transaction</title>
     
     <para>In formal accounting, transactions should never be deleted or altered. Instead, when a mistake is made, the original transaction remains in the ledger, and a reversing transaction is added to the ledger. This <emphasis>reversing transaction</emphasis> restores the ledger to its state before the error, allowing the user to enter the transaction again correctly.</para>
        
      <para>While a user can certainly enter reversing transactions manually, <application>&app;</application> includes a menu option (<menuchoice><guimenu>Transaction</guimenu><guimenuitem>Add Reversing Transaction</guimenuitem></menuchoice>) that can quickly create the reversing transaction for you. This option only appears when you are in an account register. When you are in the transaction that needs to be reversed, all you need to do is select this menu item, and a duplicate transaction that reverses the active transaction is immediately created.</para>
        
        <note><para>Once you choose the menu item, a reversing transaction is immediately created in the account using the current date. You may wish to locate the new transaction at the end of the register, and add explanatory notes to it.</para></note>
  </sect1>

  <sect1 id="trans-split-remove">
    <title>Removing Transaction Splits</title>

    <para>Removing Transaction Splits involves erasing all splits except the one for the account that is opened.
    This is a useful way of reusing a previous transaction that has multiple splits that need to be changed.
    (Note this can be done without opening the split, but doing so makes the effect more visible)</para>

    <orderedlist>
      <listitem>
        <para>If in Basic Ledger, press the <guibutton>Split</guibutton> button on the <emphasis>Toolbar</emphasis> or select
        <menuchoice><guimenu>Actions</guimenu><guimenuitem>Split Transaction</guimenuitem></menuchoice>
        to open the transaction.  If in other modes select transaction.</para>
      </listitem>

      <listitem>
        <para>Select <menuchoice><guimenu>Transaction</guimenu><guimenuitem>Remove Transaction Splits</guimenuitem></menuchoice>.</para>
        <para>A window will appear to confirm the delete, unless the preference has been changed.  The window
        presents two options; "Remember and don&rsquo;t ask again", and "Remember and don&rsquo;t ask again this session".
        The response will be set according to the selected checkbox.  The preference can also be reset via
        <menuchoice><guimenu>Actions</guimenu><guimenuitem>Reset Warnings</guimenuitem></menuchoice>.  <xref linkend="reset-warning"></xref>.</para>
      </listitem>

      <listitem>
        <para>All Accounts and their related details will be removed except for the
        currently opened account. </para>
      </listitem>

      <listitem>
        <para>The amount is not balanced and <application>&app;</application> will indicate this by placing gray
        check-boxes in the amount columns with the unbalanced amount in the blank last
        row.</para>
      </listitem>

      <listitem>
        <para>Edit the transaction to fill in the new details.</para>
      </listitem>
    </orderedlist>
  </sect1>

  <sect1 id="trans-copy">
    <title>Copying a Transaction</title>

    <para>Copying Transactions is available from the <guimenu>Transaction</guimenu> menu.  The
    <guimenu>Transaction</guimenu> menu has <guimenu>Cut Transaction</guimenu>, <guimenu>Copy
    Transaction</guimenu> and <guimenu>Paste Transaction</guimenu> which allows a whole transaction to be
    cut or copied and pasted to a new transaction line.
    This way of copying a transaction will use the date showing in the new transaction blank line.
    </para>

    <para>The <menuchoice><guimenu>Transaction</guimenu><guimenuitem>Duplicate Transaction...</guimenuitem></menuchoice> or the <emphasis>Toolbar</emphasis>
    <guimenu>Duplicate</guimenu> which, unlike the Copy method, allows for choosing a different date.</para>

    <itemizedlist>
      <listitem>
        <para>Select the transaction to duplicate.</para>
      </listitem>

      <listitem>
        <para>Go to <menuchoice><guimenu>Transaction</guimenu><guimenuitem>Duplicate Transaction...</guimenuitem></menuchoice></para>
      </listitem>

      <listitem>
        <para>A dialog called <emphasis role="bold">Duplicate Transaction</emphasis> will prompt for a new
        Date and Num for the transaction.</para>
      </listitem>

      <listitem>
        <para>Press <guibutton>OK</guibutton> to add the transaction to the register.</para>
      </listitem>
    </itemizedlist>
  </sect1>

  <sect1 id="trans-stts">
    <title>Setting the reconcile status (<guilabel>R</guilabel> field) of a transaction</title>
    <para>In the <application>&app;</application> register there is a column named <guilabel>R</guilabel>. This field
    indicates the status of a transaction. Possible values are:</para>

    <variablelist>
      <varlistentry>
        <term><guilabel>n</guilabel></term>
        <listitem>
          <para>Default status when a transaction is created</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><guilabel>c</guilabel></term>
        <listitem>
          <para>Cleared. Status may be assigned either manually or by an import process.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><guilabel>y</guilabel></term>
        <listitem>
          <para>Status assigned solely by the reconciliation process (see <xref linkend="acct-reconcile" />).
          Places limits optionally requiring confirmation on editing fields in that line of a transaction.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><guilabel>f</guilabel></term>
        <listitem>
          <para>Frozen. Not implemented at this time</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><guilabel>v</guilabel></term>
        <listitem>
          <para>Voided. Status is assigned or released manually through the transaction menu (<xref linkend="Trans-transaction-menu" />)
          to a transaction and applies to every line in the transaction. It hides most of the transaction details but does not delete them.
          When a transaction is voided a reason entry is required that appears to the right of the transaction notes. The notes
          and void reason will only be visible when you have enabled
          <menuchoice><guimenu>View</guimenu><guimenuitem>Double Line</guimenuitem></menuchoice>.</para>
        </listitem>
      </varlistentry>
    </variablelist>

  </sect1>

  <sect1 id="acct-jump">
    <title>Jump to another Account Register</title>

    <para>When using the Account Register Window it is frequently useful to be able to
    view another account and also the transfer account at the same time. <application>&app;</application> allows you to
    do this quickly by using the <guibutton>Jump</guibutton> button available in the <emphasis>Toolbar</emphasis> or
    the <menuchoice><guimenu>Actions</guimenu><guimenuitem>Jump</guimenuitem></menuchoice> menu item in the Account Register Window. </para>

    <para>Select the transaction in the Account Register Window and either click the <guibutton>Jump</guibutton> icon or select
    <menuchoice><guimenu>Actions</guimenu><guimenuitem>Jump</guimenuitem></menuchoice> to open the Account Register Window
    target. If the transaction is split
    between more than one transfer account then you will need to show all the split transfer accounts first and
    select the transfer account to jump to.</para>
  </sect1>

  <sect1 id="trans-sched">
    <title>Scheduling Transactions</title>

    <para>Scheduled Transactions provide the ability to have reminders scheduled or transactions scheduled to be
    entered at a specified date. This is combined with the <emphasis role="bold">Since Last Run
    </emphasis> assistant (<xref linkend="trans-sched-slr"></xref>) to review and enter the transactions. The
    <guilabel>Mortgage &amp; Loan Repayment</guilabel> assistant (<xref linkend="trans-sched-loans"></xref>) is used
    to setup a scheduled transaction to repay a compounding interest loan. The Scheduled Transaction Editor
    (<xref linkend="sched-editor"></xref>) is used to create and edit transactions that are to be added to the
    register in an automated way.</para>

    <para>The easiest way to setup a scheduled transaction is to use an existing transaction in an account register
    as a template. Select the transaction you wish to use as a template and then either select the
    <guibutton>Schedule</guibutton> icon on the <emphasis>Toolbar</emphasis> or go to
    <menuchoice><guimenu>Actions</guimenu><guimenuitem>Schedule...</guimenuitem></menuchoice>.
    This will bring up the <emphasis role="bold">Make Scheduled Transaction</emphasis> dialog.</para>

    <itemizedlist>
      <listitem>
        <para><guilabel>Name:</guilabel> Enter a name to use for the scheduled transaction. This will be
        used in the <guilabel>Description</guilabel> field of the transaction.</para>
      </listitem>

      <listitem>
        <para><guilabel>Frequency:</guilabel> Choose the time period you want between scheduled entries. The
        dates that the transactions will be entered will show in the mini calendar pane to the right.</para>
      </listitem>

      <listitem>
        <para><guilabel>Start Date:</guilabel> Choose a date for the scheduled transaction to start.</para>
      </listitem>

      <listitem>
        <para><guilabel>Never End:</guilabel> This scheduled transaction has no finish date.</para>
      </listitem>

      <listitem>
        <para><guilabel>End Date:</guilabel> Choose a date for the scheduled transaction to end.</para>
      </listitem>

      <listitem>
        <para><guilabel>Number of Occurrences:</guilabel> Enter the number of times you wish the scheduled
        transaction to be added to the register.</para>
      </listitem>
    </itemizedlist>

    <para>The <guilabel>Advanced...</guilabel> button brings up the Scheduled Transaction Editor&rsquo;s dialog to
    Edit the Scheduled Transaction. This is described in the section Scheduled Transaction Editor.
    <xref linkend="sched-editor"></xref></para>

    <sect2 id="sched-trans-win">
      <title>Scheduled Transactions Window</title>

      <para>The Scheduled Transactions Window is used to access the list of scheduled transactions and create,
      edit or remove them. It also provides a calendar which displays upcoming scheduled transactions. Clicking
      on the calendar view and hovering over any date will pop up a small dialog that shows the transactions
      scheduled for that day. The yellow highlight in the calendar indicates which days have scheduled
      transactions. To dismiss the hover dialog click once more.</para>

      <para>The top pane of the Scheduled Transaction Window contains the list of scheduled transactions that are
      currently setup. This window lists the Name of the transaction, if the transaction is enabled for scheduling,
      the Frequency (month and day) that the transaction is to be entered, the last time the transaction was entered
      and the next time the transaction will be entered.</para>

      <para>The right side of this pane contains a down arrow button that when clicked will pull-down a window to
      allow selection of the characteristics displayed in the list.  Unchecking the appropriate box will remove the
      characteristic from the display.</para>

      <para>The <emphasis>Toolbar</emphasis> of this window contains three buttons to create, delete and edit scheduled transactions.
      <guibutton>New</guibutton> and <guibutton>Edit</guibutton> buttons opens the Edit Scheduled Transaction dialog.
      <guibutton>Delete</guibutton> removes the selected scheduled transaction.
      The same options are available thru <menuchoice><guimenu>Schedule</guimenu><guimenuitem>New/Edit/Delete</guimenuitem></menuchoice>,
      from the Scheduled Transaction Tab. </para>

      <para>Below the list of scheduled transactions is the Upcoming calendar. This calendar displays up to the next
      year and highlights the dates that the scheduled transactions are scheduled to occur so it is easy to see when
      the transactions are scheduled.  Clicking on a date in the calendar brings up a list of scheduled transactions
      for that date. Moving the mouse over other dates changes to the list of transactions on those dates. Clicking
      once more on the calendar removes the transaction list.</para>

      <para>The Scheduled Transaction Window is activated from the Account tab or the Transaction Register via
      <menuchoice><guimenu>Actions</guimenu><guisubmenu>Scheduled Transaction</guisubmenu>
      <guimenuitem>Scheduled Transaction Editor...</guimenuitem></menuchoice>.</para>

    </sect2>
  </sect1>
  <sect1 id="sched-editor">
    <title>Edit Scheduled Transaction Window</title>

    <para>The Edit Scheduled Transaction Window is divided into a Name area, Options area, Occurrences area,
    Recurrence Frequency area, mini calendar and Template Transaction pane.</para>

    <para>The <emphasis role="bold">Name</emphasis> field is used to enter the name for the scheduled transaction. This will be
    used in the <guilabel>Description</guilabel> of the transaction.</para>

    <para>The <emphasis role="bold">Options</emphasis> area contains check-boxes to set if the transaction is
    automatically created and how many days in advance the transaction is created and/or a reminder posted.
    </para>

    <para>The <emphasis role="bold">Occurrences</emphasis> area contains selections to set for dates limits on
    transactions to be entered or the number of transactions to be entered.</para>

    <para>The <emphasis role="bold">Recurrence Frequency</emphasis> area contains selections to set how
    often the transaction is scheduled to be added and on what dates this occurs.</para>

    <para>The mini calendar provides a visual indication of what transactions are already scheduled.</para>

    <para>The <emphasis role="bold">Template Transaction</emphasis> pane allows you to setup the transaction
    as you would like it to be entered into the register.</para>

    <para>These options are described in more detail in <xref linkend="trans-sched"></xref></para>

    <itemizedlist>
      <listitem><para>From the Scheduled Transaction tab selecting a transaction from the list and pressing
      the <guibutton>Edit</guibutton> or <guibutton>New</guibutton> buttons will bring up the Edit Scheduled Transaction Editor.</para>
      </listitem>
    </itemizedlist>

  </sect1>

  <sect1 id="print-check">
    <title>Printing Checks</title>

    <para>Checks are printed in <application>&app;</application> from the account register. <application>&app;</application> provides the
    ability to print to several standard Quicken Checks (including US Letter) or to make
    a custom check format. Check position and Date formats are also customizable.</para>

    <para>To print a single check in <application>&app;</application>, select the transaction to print a check for
    and go to <menuchoice><guimenu>File</guimenu><guimenuitem>Print Checks</guimenuitem></menuchoice>.
    This will open the Print Checks properties dialog to print the selected transaction.</para>

    <para>To print multiple checks in <application>&app;</application> execute a search to find the transactions
    you wish to print.  With the search results window as the front window go to
    <menuchoice><guimenu>File</guimenu><guimenuitem>Print Checks</guimenuitem></menuchoice>. This will open
    the Print Checks properties dialog to print all the transactions in the search results window.</para>

    <para>The Print Checks dialog has two tabs. The first tab, Options, is used to setup
    the most common options to print a check. The second tab, Custom format, is used to
    setup the position of various fields on the check. It is useful to print a test check
    to a plain piece of paper first and use that to make any adjustments needed.</para>

    <para>The default selection in Options is for Quicken/Quickbooks (tm) US-Letter checks.</para>

    <itemizedlist>
      <listitem>
        <para>Check format: Test with Quicken first then use custom if the position is incorrect.</para>
      </listitem>

      <listitem>
        <para>Check position: This sets if the Top, Middle or Bottom check is printed.  Custom is used if the
        position of the checks on the page is incorrect.</para>
      </listitem>

      <listitem>
        <para>Date format: The default here is set in the Preferences International section. Choose a date format.
        This can also be adjusted by the Use of the Months: and Years: lines. Custom allows the date format to be
        set in the Format: box (%m means month, %d means day, %Y means year) A Sample of the format chosen is
        displayed below.</para>
      </listitem>
      <listitem>
        <para>Address: This sets the address of the Payee, if the check format includes a
        space for it and you are printing a single check.</para>
      </listitem>
    </itemizedlist>

    <para>The Custom format tab has two sections.  The top half of the window (above the
    dividing line) allows you to position the fields in each check.  It contains two
    columns to enter in the X and Y co-ordinates of the field position on the
    check. Positions in the Custom Check Format entry area are specified with x = 0 at
    the left edge of the check with x increasing to the right, and y = 0 at the top edge
    of the check with y increasing as you travel down.  (If you are using a version of
    GTK prior to 2.10, then y = 0 is at the bottom of the page and y increases as you
    travel up.)</para>

    <itemizedlist>
      <listitem>
        <para>Payee: </para>
      </listitem>

      <listitem>
        <para>Date: </para>
      </listitem>

      <listitem>
        <para>Amount (words): </para>
      </listitem>

      <listitem>
        <para>Amount (numbers): </para>
      </listitem>

      <listitem>
        <para>Address: </para>
      </listitem>

      <listitem>
        <para>Notes: </para>
      </listitem>

      <listitem>
        <para>Memo: </para>
      </listitem>

      <listitem>
        <para>Splits Amount: </para>
      </listitem>

      <listitem>
        <para>Splits Memo: </para>
      </listitem>

      <listitem>
        <para>Splits Account: </para>
      </listitem>
    </itemizedlist>

    <para>The part of the custom format tab below the dividing line contains fields to
    position the entire check correctly on the page.  The Translation field is the
    distance from the top left corner and the Rotation field rotates the check
    clockwise by the indicated amount.</para>

    <para>The Units field in the bottom half of the window specifies the units used in
    all the fields in both halves of the window.</para>

    <para>Once <guibutton>OK</guibutton> is pressed on the Print Check dialog the Print <application>&app;</application> Document dialog is presented. Press <guibutton>OK</guibutton>
    to print the check.</para>

  </sect1>
  <sect1 id="trans-import">
    <title>Importing Transactions from Files</title>
    
    <para>Imported transactions will generally be to a specific account in your account tree. In the following 
            this will be referred to as the <emphasis role="bold">import</emphasis> or 
            <emphasis role="bold">base</emphasis> account. It may or may not be
            specified in the data being imported depending on the import format. It is usually the first split
            of a transaction being imported.
    </para>
    <para>All transactions will also need to have a <emphasis role="bold">destination</emphasis> account for 
            at least a matching splits. This may or may not be supplied in the imported data. If it is not,
            an account can be assigned on the basis of the previous import history by matching to infomation in
            the imported data. The user may always over-ride this assignment.
    </para>
    <para>Multi-split data previously exported from GnuCash may have both the import and destination accounts
            for transaction splits specified in the data file.
    </para>
    <sect2>
      <title>Import Formats</title>
      <para>Gnucash allows transactions to be imported in the following formats:</para>
        <itemizedlist>
          <listitem><para><emphasis role="bold"><link linkend="trans-import-qif">QIF</link></emphasis> 
               (.qif) Quicken Interchange format - import data from Quicken financial software;</para></listitem>
          <listitem><para><emphasis role="bold"><link linkend="trans-import-ofx">OFX/QFX</link></emphasis> 
               (.ofx,.qfx) Open Financial eXchange format (QXF is an Intuit/Quicken proprietary version of OFX);
          </para></listitem>
          <listitem><para><emphasis role="bold"><link linkend="trans-import-csv">CSV</link></emphasis> 
               (.csv)  Comma Separated Values;</para></listitem>
        </itemizedlist>
      
      <para>These import methods can be accessed from the <emphasis role="bold">Import</emphasis> submenu
            of the main menu <emphasis role="bold">File</emphasis> entry, along with methods for importing
            other types of data. Select the appropriate entry in the <emphasis role="bold">Import</emphasis>
            sub menu to initiate importing transactions.
      </para>      
    </sect2>
    <sect2 id="trans-import-qif">
      <title>Import QIF</title>
      <para>To import data from Quicken®, MS Money, or other programs that use QIF(Quicken® Interchange Format),
            you must first export your data to a QIF file. One way to do this is to export each account as a 
            separate QIF file. An easier way, available in Quicken® 98 and beyond, is to export all accounts at
            once into a single QIF file. Check your program's manual to determine if this option is available.
      </para>
      <sect3><title>To import QIF files:</title><para> </para></sect3>
      <sect3>
        <title>Load all of the QIF files containing data you wish to import</title>
        <para>To do this, select <emphasis role="bold">File -> Import -> Import QIF...</emphasis> from the menu. When the QIF Import dialog
              box appears, click <emphasis role="bold">Next</emphasis> and follow the instructions to guide you through the process of loading
              your files.
        </para>
        <para>This image shows the start of the QIF Import Druid.<!--FIXME put an image of the import druid in --> </para>
        <para>You will be prompted for a filename to load. Use the Select button to select your QIF file and
             click Next to load it. Once the file is loaded, select Load another file if you have more files 
             to load. When you have loaded all your QIF files, click Next to continue with the import process.
        </para>
      </sect3>
      <sect3>
        <title>Review the GnuCash accounts to be created.</title>
        <para>The importer then matches up your QIF accounts and categories with GnuCash accounts and gives 
              you a brief description of the matching process. Clicking Next will bring you to a view comparing
              your QIF accounts with the corresponding GnuCash accounts created. To change an account name, select
              the row containing that account name and edit the name in the dialog box provided. Click Next when 
              you have finished making changes, and proceed through a similar category matching process. QIF 
              income and expense categories import as GnuCash income and expense accounts <!--(see section 3.1 FIXME for 
              more on this).--> Make changes to these account names if necessary, and click Next to continue.
        </para>
        <para><emphasis role="bold">Note:</emphasis> If you are not sure what changes are needed, it is safe to
              accept the GnuCash account names. It is easy to edit the accounts later if you find you need to make
              a change.
        </para>
        <para>From the drop-down list, select a standard currency to be used for the  imported accounts and click <emphasis role="bold">Next</emphasis>
              to continue. If you have stocks, mutual funds, or other securities, you will be prompted for additional
              information. The importer dialog will ask for the exchange or listing (i.e. Nasdaq), the security's 
              full name, and the ticker symbol. If you do not have this information handy, you can edit the account
              information later, once the import is complete. Click <emphasis role="bold">Next</emphasis> to continue.
        </para>
      </sect3>
      <sect3>
        <title>Tell GnuCash to import the data.</title>
        <para>The last step is the import. Once you have verified your account names and investment information, 
              click <emphasis role="bold">Finish</emphasis> in the Update your GnuCash accounts page to complete the import process. Depending 
              upon the size of your file, the import might take a few minutes to complete, so a progress bar 
              displays the percentage finished. When the import process is complete, GnuCash will return you 
              to the main window, which should now display the names of the accounts you imported.
        </para>
      </sect3>
    </sect2>
    <sect2 id="trans-import-ofx">
      <title>Import OFX/QFX</title>
      <para>This opens a file selection dialog. Navigate to the file you wish to import, select a file with 
        the appropriate extension (.ofx  or .qfx), then press the <emphasis role="bold">Import</emphasis> button.</para>
      <para>Gnucash opens an Account Selection dialog to select an account in your CoA corresponding to data source. Select
        the appropriate account from the account tree and press the <emphasis role="bold">OK</emphasis> button. On subsequent import of files from the 
        same source (identified by tags in the file), the source is remembered and the account selection dialog is not
        displayed.</para>
      <para>The generic import transaction matcher dialog is opened next. See the <link linkend="trans-import-matcher">
            Import Matcher</link> section (common to both OFX/QFX and CSV import formats) following the Import CSV
            section to continue the import process.
      </para>      
    </sect2>
    <sect2 id="trans-import-csv">
      <title>Import CSV</title>
      <para>Clicking on <emphasis role="bold">Import CSV</emphasis> in the Import menu will bring up the Import Assistant dialog. The first step brings up a file selection 
            dialog. Navigate to the location where the file you wish to import is located and select the file to import then click the 
            <emphasis role="bold">OK</emphasis> button.
      </para>
      <para>The next window will allow you to set parameters for the importing of the file. All widgets have tooltips which explain what 
            the setting affects and the options for the setting.
      </para> 
      <sect3 id="trans-import-csv-save">
          <title>Load and Save Settings</title>
          <para>If this import is a regular occurrence, once you have set the other import paramters, you can save these settings by typing
                in a setting name in the <emphasis role="bold">Load and Save Settings Entry</emphasis> combo box and pressing the <emphasis role="bold">Save</emphasis> button just to the right of the box. 
                Previously defined settings can be retrieved by selecting the appropriate setting name from the dropdown list activated by
                the down arrow at the right end of the text box. The trash can button to the right of the Save button can be used to remove
                the settings selected from the drop down list for the box. The settings group <emphasis role="bold">"GnuCash Export Settings"</emphasis> define a setting 
                group for the export and reimport of GnuCash transaction data - use this if importing data previously exported from GnuCash.
          </para>
      </sect3>
      <sect3>
        <title>Account</title>
        <para>This combo box allows you to select the base or import account into which the transactions will be imported.  It may be left unset
              if the imported data contains a column listing the accounts associated with each split or the import data
              specifies the account for first split of the transaction.</para>
      </sect3>
      <sect3>
        <title>File Format</title>
        <para>This section allows you to define whether the file has:
        </para>
        <itemizedlist>
          <listitem>
            <para><emphasis role="bold">Fixed width columns</emphasis> Selecting this radio button will allow you to define 
                 column boundaries by double clicking at the appropriate positions in the sample records displayed in the 
                 panel below. Single clicking in a column will narrow, widen or merge the column.
            </para>
          </listitem>
          <listitem>
            <para><emphasis role="bold">Separators</emphasis> Selecting this radio button will allow you to define characters
                  which will be used to distinguish columns in the input file. The default is comma separated however spaces,
                  tabs,colons or semicolons or any combination of them may be used to separate columns in the input file by 
                  selecting the appropriate check boxes. You may also define custom separators by typing the required characters
                  into the text box and selecting the <emphasis role="bold">Custom</emphasis> checkbox. This may be used in combination with any of the 
                  predefined separators.
            </para>
          </listitem>
          <listitem>
            <para><emphasis role="bold">Multi-split</emphasis> Selecting this check box allows the splits for a single transaction
                 to be defined on consecutive lines within the file with each line defining a single split. If not selected each
                 line is assumed to contain the information for a single transaction including one or two splits.
            </para>
          </listitem>                  
        </itemizedlist>
      </sect3>
      <sect3>
        <title>Miscellaneous</title>
        <para>The miscellaneous settings allow you to set:
        </para>
        <itemizedlist>
          <listitem><para><emphasis role="bold">Encoding</emphasis>This is usually the UTF-8 variant for your locale;</para></listitem>
          <listitem><para><emphasis role="bold">Date Format</emphasis> This does not default to the Locale setting so check it matches the data you are importing;</para></listitem>
          <listitem><para><emphasis role="bold">Currency Format</emphasis>;</para></listitem>
          <listitem><para><emphasis role="bold">Leading Lines to Skip</emphasis>;</para></listitem>
          <listitem><para><emphasis role="bold">Trailing Lines to Skip</emphasis>;</para></listitem>
          <listitem><para><emphasis role="bold">Skip alternate lines</emphasis>;</para></listitem>
          </itemizedlist>
         <para>to match the settings for the file you are importing. Tooltips may also contain information on the setting and options.</para>
      </sect3>
      <sect3>
        <title>Import Panel</title>
        <para>The import panel shows the data being imported as it is interpreted using the settings chosen to define columns and formats.
            The dropdown lists in the headers for each column of the import allow you to associate a specific column in the imported data
            with a specific field in the display of a transaction in an account register. At a minimum to import data, columns in the 
            imported data containing the following information <emphasis role="bold">must</emphasis> be specified:
        </para>
        <itemizedlist>
          <listitem><para><emphasis role="bold">Date </emphasis>of transaction;</para></listitem>
          <listitem><para><emphasis role="bold">Account</emphasis> into which transaction is to be imported (or alternatively set the base account as above);</para></listitem>
          <listitem><para><emphasis role="bold">Description</emphasis> of the transaction;</para></listitem>
          <listitem><para><emphasis role="bold">Deposit or Withdrawal</emphasis> column.</para></listitem>
        </itemizedlist>
        <para>The <emphasis role="bold">Skip Errors</emphasis> check box will skip trying to import any rows with errors in matching the columns.
        </para>
        <para>When you are happy with all the import settings, <link linkend="trans-import-csv-save">save</link> them
             if you will use the same settings again, then press the <emphasis role="bold">Next</emphasis> button. 
            This will bring up a window which allows you to map the accounts identified in the account column (Account Id) with accounts 
            in the GnuCash account tree (Account name). Double click on a row to bring up a dialog to select the matching GnuCash account. 
            When you have selected a match for all accounts, click on the <emphasis role="bold">Next</emphasis> button.
        </para>
        <para>The Transaction Information panel allows review of data entry settings so far.
        </para>
        <para>Clicking on Match Transactions will then bring up the main <link linkend="trans-import-matcher">Import Matcher</link>
              window described in the next section.
        </para>
      </sect3>
    </sect2>
    <sect2 id="trans-import-matcher">
      <title>Import Matcher</title>
      <para>The Import Matcher uses a Bayesian approach to assign a destination account, if it is not specified in 
          the imported data, to each imported transaction based on the previous import history of the import account.
          It also attempts to match the transactions being imported to any existing transactions
          based on the date and the description fields<!-- FIXME add any other fields used in matching -->.
      </para>
      <para>Transaction rows which match existing transactions already in the import account are flagged not to be imported. They 
        will have a light green background and the A and U+R checkboxes will be unchecked and the R checkbox will be 
        checked. To override and import the transaction, check the A checkbox. The U and R boxes will be unchecked 
        automatically. The reliability of the match is indicated by a bar display in the Info column. If a destination
        account for the second split is assigned by the matcher if will be appended to the info column.
      </para>
      <para>Transaction rows which do not match existing transactions in the import account, for which an assignment
        of a destination account cannot be made on the basis of the previous import history to the account, will be 
        displayed with an orange-yellow background and the A box will be checked and U+R and R unchecked. A destination 
        account must be specified for these transactions.
      </para>
     <sect3><title>Assign a Destination Account to a Single Transaction</title>
        <para>The currently selected row is selected by Left-clicking it. It is displayed with a mid dark green background.</para>
        <para><emphasis role="bold">Double click</emphasis> on a row. This will select it and open an Account Selection
              dialog. Select the desired destination account in the dialog and click <emphasis role="bold">OK</emphasis>. The row 
              background will change to a light green and the assigned destination account will be displayed 
              in the Info column.
        </para>
        <para>or alternatively, <emphasis role="bold">Left-click</emphasis> on a row to select it followed by a 
           <emphasis role="bold">Right-click </emphasis>to bring up a popup menu then select
          "Assign a transfer account" to display the Account Selection dialog, select the destination account and
           click the <emphasis role="bold">OK</emphasis> button.
        </para>
      </sect3>
      <sect3>
        <title>Assign a Destination Account to Multiple Transaction</title>
        <para>Sometimes you will have several transactions which will have the same destination account. Gnucash
              allows you to select multiple transactions and apply the same destination account to all transactions
              in the selection.
        </para>
        <para>Rows in a selection are displayed with a mid dark green background.</para>
        <para>Multiple rows may be selected to have the same destination account assigned to them.</para>
        <para>To select rows either:</para>
        <itemizedlist>
          <listitem><para><emphasis role="bold">Left click</emphasis> on first row and then 
          <emphasis role="bold">Ctrl-Left click</emphasis> on other rows to add to the selection or</para></listitem>
          <listitem><para><emphasis role="bold">Left-click</emphasis> on a first row and then 
          <emphasis role="bold">Shift-Left-click</emphasis> on another row to select all rows between them.</para></listitem>
        </itemizedlist>
        <para>then <emphasis role="bold">Right-click</emphasis> to display a popup menu and then select 
          <emphasis role="bold">"Assign a transfer account"</emphasis> to open the Account 
           Selection dialog. Select the desired destination account and click the <emphasis role="bold">OK</emphasis>
           button in the Account Selection dialog.</para>
      </sect3>
      <sect3>
        <title>Completing the Import</title>
      <para>Once you have assigned destination accounts for all the imported transactions using the above methods 
        (all row backgrounds will be a light green colour), check that the assigned destination acounts are correct 
        and then press the <emphasis role="bold">OK</emphasis> button at the bottom of the Generic Import Matcher 
        window. The transactions selected for import will have their splits added to the selected source 
        and destination accounts.
      </para>
      <para>The choices made for the destination accounts and description/memo fields are remembered and stored and 
        used for future imports to the same account to automatically assign a destination account for transaction 
        records not containing destination account information.
      </para>
      </sect3>
    </sect2>
  </sect1>

  <sect1 id="trans-online">
    <title>Online Actions ...</title>

    <note><para>This section is "under construction - any input will be welcome !!".</para></note>

    <sect2> <title>Get Balance</title><para></para></sect2>
    <sect2> <title>Get Transactions ...</title><para></para></sect2>
    <sect2> <title>Issue Transaction</title><para></para></sect2>
    <sect2> <title>Direct Debit</title><para></para></sect2>

  </sect1>

  <sect1  id="general-journal">
    <title>General Journal</title>
    <para>The General Journal is an advanced register used to enter transactions without needing to open
    individual accounts. The General Journal shows the transaction entries for all accounts on one register.</para>

    <para>Entering transactions in the General Journal is more complicated than entering them in the individual
    account registers. The advantage is the General Journal provides a more comprehensive view of the
    transactions you have entered in all your accounts.</para>

    <para>The General Journal defaults to showing only the previous month of transactions. This is changeable
    by using the "Filter By..." on the View menu.</para>
  </sect1>

</chapter>

