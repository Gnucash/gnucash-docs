<!--
      (Do not remove this comment block.)
  Version: 2.0.x
   Last modified: December 7th 2009
        modified: May 13th 2007
        modified: November 28th 2006
        modified: August 12th 2006
	modified: February 28th 2005

  Maintainers:
               Alex Aycinena <alex.aycinena@gmail.com>
               Chris Lyttle <chris@wilddev.net>
               Neil Williams <linux@codehelp.co.uk>

  Author:
               Chris Lyttle <chris@wilddev.net>
  Translators:
               (Pedro Albuquerque <palbuquerque73@gmail.com>)
-->

<chapter id="Reports">
  <title>Relatórios e gráficos</title>

     <note><para>Esta secção está <quote>em construção</quote>, nem tudo foi ainda revisto para a versão 2.0. 
     Embora possa não ser 100 % preciso, pelo menos serve como ""guia".</para></note>

   <para>Os relatórios e gráficos dão ao <application>&app;</application> a capacidade de exibir uma visão geral 
   de dados financeiros de várias formas, desde um simples sumário de totais de contas até uma visão de portfólio 
   avançado. Esta secção dá uma explicação sobre os principais relatórios do <application>&app;</application> e 
   como ajustá-los.</para>

   <para>O <application>&app;</application> classifica os principais tipos de relatórios em quatro classes. Todas 
   disponíveis no menu <menuchoice><guimenu>Relatórios</guimenu></menuchoice>.</para>

     <sect1 id="report-general">
      <title>Relatórios gerais</title>

      <para>Os relatórios gerais incluem o Sumário de contas, relatórios personalizados, Relatório de impostos &amp; 
      Exportação <acronym>Mod. IRS</acronym>, Relatório de transaçõese o submenu de Exemplo &amp; Pessoal.</para>

      <sect2 id="account-summary">
        <title>Sumário de contas</title>
        <para> </para>
      </sect2>

      <sect2 id="report-taxreport">
        <title>Relatório de impostos &amp; Exportação <acronym>Mod. IRS</acronym></title>
        <para>Este relatório lista todas as receitas coletáveis e despesas dedutíveis usadas na preparação de  
        formulários de impostos nos EUA. Uma vez que não se adequa a Portugal, não adiantamos mais explicações.</para>
        <!-- The purpose of the report is to provide a complete audit trail for these amounts. 
        The report is intended to be used by a tax payer to manually prepare his or her own tax return, or alternatively, 
        to be provided to a tax preparer for that purpose. The report can also be used to generate an export of all tax 
        related income and expenses to a <acronym>TXF</acronym> (Tax eXchange Format) file (this is in addition to 
        exporting to the <acronym>HTML</acronym> format that all reports allow). The <acronym>TXF</acronym> file can 
        be imported into tax filing programs such as TaxCut or TurboTax. The report should be run, inspected carefully 
        for errors or omissions, and then corrections made to transactions, report settings, currency conversion rates 
        or the account structure as needed. This process should be repeated as often as needed until all the amounts on 
        the report are correct before a final version is used and saved along with the tax returns.</para>

          <para> For accounts specified in the report options (none = all) that are also flagged as 
          <guilabel>Tax-related</guilabel>, all transactions for the time period selected (also in the report options) 
          are included. The report sorts transactions by date within account providing subtotals by account within tax 
          code within Form or Schedule line number. Support is also provided for multiple copies of and for sub-line 
          items for selected Forms/Schedules. Optionally uses special date processing to include federal estimated tax 
          payments after year end.</para>

          <para>All totals are in USD since this is the currency required for filing US Income Tax returns. Non-USD 
          transaction amounts are converted to USD using the transaction conversion rate to USD, if available. If not, 
          a conversion rate from the price database is used (either the date nearest the transaction date or nearest the 
          report date as specified in the report options; if none is available, transaction amounts are converted to 
          zero and the report provides a comment accordingly). A complete audit trail of conversions is provided.</para>

          <note><para>For this to work, the user has to segregate taxable and non taxable
           income to different accounts, as well as deductible and non deductible expenses.
           The Income Tax Information dialog is used for this. To access the Income Tax
           Information dialog go to <menuchoice><guimenu>Edit</guimenu><guimenuitem>Tax Report Options</guimenuitem></menuchoice>. The user
           also must set the <acronym>TXF</acronym> category of each tax related account. The Income Tax
           Information dialog is described in the <xref linkend="set-tax-options"></xref> section.</para></note> -->

      </sect2>

      <sect2 id="transaction-report">
        <title>Relatório de transações</title>

        <para>Este relatório lista as transações nas contas selecionadas durante um período financeiro especificado. 
        Opcionalmente, podem ser usados dois campos para ordenar e totalizar.</para>

        <sect3 id="report-txrpt-opts">
          <title>Opções do relatório</title>

           <figure>
             <title><emphasis>Relatório de transações &mdash; opções</emphasis></title>
             <screenshot id="Help_TxRptOpt_Screen">
               <mediaobject>
                 <imageobject role="html">
                   <imagedata fileref="figures/Help_TxRptOpt_Screen.png" format="PNG"
                     srccredit="Pedro Albuquerque" width="510px"></imagedata>
                 </imageobject>

                 <imageobject role="fo">
                   <imagedata fileref="figures/Help_TxRptOpt_Screen.png" format="PNG"
                     srccredit="Pedro Albuquerque" ></imagedata>
                 </imageobject>

                 <textobject><phrase>Relatório de transações &mdash; ecrã de opções</phrase>
                 </textobject>
                   <caption><para>Eis uma imagem do <emphasis> separador Mostrar das opções do relatório de 
                   transações.</emphasis></para>
                 </caption>
               </mediaobject>
             </screenshot>
           </figure>

           <itemizedlist>
             <listitem><para><emphasis>Separador contas</emphasis></para>
               <itemizedlist>
                 <listitem>
					 <para><guilabel>Contas</guilabel> &mdash; selecione uma ou mais contas a incluir no 
					 relatório.</para>
					 <para>Há 4 botões para ajudar à seleção de conta</para>
                     <informaltable>
                     <tgroup cols="2">
                       <tbody>
                         <row><entry>Selecionar tudo</entry><entry>Seleciona todas as contas</entry></row>
                         <row><entry>Limpar tudo</entry> <entry>Limpa a seleção, removendo todas as contas</entry></row>
                         <row><entry>Selecionar filhos</entry><entry>Seleciona todos os descendentes da conta selecionada</entry></row>
                         <row><entry>Selecionar predefinição</entry><entry>Seleciona as contas predefinidas</entry></row>
                       </tbody>
                     </tgroup>
                   </informaltable>
                 </listitem>

                 <listitem><para><guilabel>Mostrar contas ocultas</guilabel> &mdash; mostrar contas marcadas como ocultas.</para>
                 </listitem>

                 <listitem><para><guilabel>Filtrar por</guilabel> &mdash; optionalmente, selecionar contas para serem 
                 incluídas ou excluídas, dependendo do tipo de filtro</para>
                 </listitem>

                 <listitem><para><guilabel>Mostrar contas ocultas</guilabel> &mdash; mostrar contas marcadas como ocultas
                   na lista de contas Filtrar por</para>
                 </listitem>

                 <listitem><para><guilabel>Tipo de filtro</guilabel> &mdash; um de</para>
                   <informaltable>
                     <tgroup cols="2">
                       <tbody>
                         <row><entry>Nenhum</entry><entry>não filtrar nada</entry></row>
                         <row><entry>Incluir transações de/para contas filtradas</entry>
                           <entry>Incluir só transações de/para contas filtradas</entry>
                         </row>
                         <row><entry>Excluir transações de/para contas filtradas</entry>
                           <entry>Excluir só transações de/para contas filtradas</entry>
                         </row>
                       </tbody>
                     </tgroup>
                   </informaltable>
                 </listitem>

                 <listitem><para><guilabel>Transações esvaziadas</guilabel> &mdash; um de</para>
                   <informaltable>
                     <tgroup cols="2">
                       <tbody>
                         <row><entry>Só não vazias</entry><entry>mostrar só transações não esvaziadas</entry></row>
                         <row><entry>Só vazias</entry><entry>mostrar só transações esvaziadas</entry></row>
                         <row><entry>Ambas</entry><entry>mostrar ambas e incluir transações esvaziadas nos totais</entry></row>
                       </tbody>
                     </tgroup>
                   </informaltable>
                 </listitem>

                 <listitem><para><guilabel>Botão Repor predefiniçoes</guilabel> &mdash; repõe todos os valores predefinidos</para>
                 </listitem>
               </itemizedlist>

             </listitem>

             <listitem><para><emphasis>Separador Mostrar</emphasis></para>

               <itemizedlist>
                 <listitem><para><guilabel>Data</guilabel></para></listitem>
                 <listitem><para><guilabel>Data de reconciliação</guilabel></para></listitem>
                 <listitem><para><guilabel>Nº</guilabel></para></listitem>
                 <listitem><para><guilabel>Descrição</guilabel></para></listitem>
                 <listitem><para><guilabel>Memorando</guilabel></para></listitem>
                 <listitem><para><guilabel>Notas</guilabel> &mdash; Display the notes if the memo is unavailable</para></listitem>
                 <listitem><para><guilabel>Nome da conta</guilabel></para></listitem>
                 <listitem><para><guilabel>Usar nome completo de conta</guilabel></para></listitem>
                 <listitem><para><guilabel>Código da conta</guilabel></para></listitem>
                 <listitem><para><guilabel>Outro nome de conta</guilabel></para></listitem>
                 <listitem><para><guilabel>Usar outro nome de conta</guilabel></para></listitem>
                 <listitem><para><guilabel>Outro código de conta</guilabel></para></listitem>
                 <listitem><para><guilabel>Ações</guilabel></para></listitem>
                 <listitem><para><guilabel>Preço</guilabel></para></listitem>
                 <listitem><para><guilabel>Montante</guilabel>&mdash; um de</para>
                   <informaltable>
                     <tgroup cols="2">
                       <tbody>
						 <row><entry>Nenhum</entry><entry>não mostrar montante</entry></row>
                         <row><entry>Única</entry><entry>mostrar em coluna única</entry></row>
                         <row><entry>Dupla</entry><entry>mostrar em coluna dupla</entry></row>
                       </tbody>
                     </tgroup>
                   </informaltable>
                 </listitem>

                 <listitem><para><guilabel>Saldo corrente</guilabel></para></listitem>
                 <listitem><para><guilabel>Totais</guilabel></para></listitem>

                 <listitem><para><guilabel>Reversos de sinal</guilabel> &mdash; um de</para>
                   <informaltable>
                     <tgroup cols="2">
                       <tbody>
                         <row><entry>Nenhum</entry><entry>não mostrar sinais revertidos</entry></row>
                         <row><entry>Receita e despesa</entry><entry>reverter sinal para contas de Receita e Despesa</entry></row>
                         <row><entry>Contas de crédito</entry><entry>reverter sinal para contas de Passivo, Pagáveis, 
                         Capital próprio, Cartão de crédito e Receita</entry></row>
                       </tbody>
                     </tgroup>
                   </informaltable>
                 </listitem>

                 <listitem><para><guilabel>Botão Repor predefiniçoes</guilabel> &mdash; repõe todos os valores predefinidos</para>
               </itemizedlist>
             </listitem>

             <listitem><para><emphasis>Separador Geral</emphasis></para>
               <itemizedlist>
                 <listitem><para><guilabel>Nome do relatório</guilabel> &mdash; insira um nome descritivo para o relatório</para></listitem>
                 <listitem><para><guilabel>Folha de estilo</guilabel> &mdash; selecione entre Predefinição, Simples, 
                 Rodapé ou Technicolor</para></listitem>

                 <listitem><para><guilabel>Data inicial</guilabel> &mdash; insira ou selecione uma data inicial 
                 específica</para>
                   <para>ou selecione uma das seguintes opções que serão usadas para determinar a data inicial 
                   de cada vez que executar o relatório</para>
                   <informaltable>
                     <tgroup cols="2">
                       <tbody>
                         <row><entry>Hoje</entry><entry>a data atual</entry></row>
                         <row><entry>Início deste mês</entry><entry>Primeiro dia do mês atual</entry></row>
                         <row><entry>Início do mês anterior</entry><entry>Primeiro dia do mês anterior</entry></row>
                         <row><entry>Início deste trimestre</entry><entry>Primeiro dia do atual trimestre contabilístico</entry></row>
                         <row><entry>Início do trimestre anterior</entry><entry>Primeiro dia do trimestre contabilístico anterior</entry></row>
                         <row><entry>Início deste ano</entry><entry>Primeiro dia do ano atual</entry></row>
                         <row><entry>Início do ano anterior</entry><entry>Primeiro dia do ano anterior</entry></row>
                         <row><entry>Início do período contabilístico</entry><entry>Primeiro dia do período contabilístico 
                         como definido nas preferências globais</entry></row>
                       </tbody>
                     </tgroup>
                   </informaltable>
                 </listitem>

                 <listitem><para><guilabel>Data final</guilabel> &mdash;insira ou selecione uma data final específica,</para>
                   <para>ou selecione uma das seguintes opções que serão usadas para determinar a data final 
                   de cada vez que executar o relatório</para>
                   <informaltable>
                     <tgroup cols="2">
                       <tbody>
                         <row><entry>Hoje</entry><entry>a data atual</entry></row>
                         <row><entry>Final deste mês</entry><entry>Último dia do mês atual</entry></row>
                         <row><entry>Final do mês anterior</entry><entry>Último dia do mês anterior</entry></row>
                         <row><entry>Final deste trimestre</entry><entry>Último dia do atual trimestre contabilístico</entry></row>
                         <row><entry>Final do trimestre anterior</entry><entry>Último dia do trimestre contabilístico anterior</entry></row>
                         <row><entry>Final deste ano</entry><entry>Último dia do ano atual</entry></row>
                         <row><entry>Final do ano anterior</entry><entry>Último dia do ano anterior</entry></row>
                         <row><entry>Final do período contabilístico</entry><entry>Último dia do período contabilístico 
                         como definido nas preferências globais</entry></row>
                       </tbody>
                     </tgroup>
                   </informaltable>
                 </listitem>
                 
                 <listitem><para><guilabel>Estilo</guilabel>&mdash; um de</para>
                   <informaltable>
                     <tgroup cols="2">
                       <tbody>
						 <row><entry>Única</entry><entry>mostrar em linha única</entry></row>
                         <row><entry>Multilinha</entry><entry>mostrar em várias linhas</entry></row>
                       </tbody>
                     </tgroup>
                   </informaltable>
                 </listitem>

                 <listitem><para><guilabel>Moeda comum</guilabel> &mdash; converter todas as transações numa moeda comum</para></listitem>
                 <listitem><para><guilabel>Moeda do relatório</guilabel> &mdash; selecione a moeda em que mostrar os valores</para></listitem>
                 <listitem><para><guilabel>Tabela para exportação</guilabel> &mdash; formata a tabela para exportação 
                 com cortar &amp; colar com células extra</para></listitem>
                 <listitem><para><guilabel>Botão Repor predefiniçoes</guilabel> &mdash; repõe todos os valores predefinidos</para>
               </itemizedlist>
             </listitem>

             <listitem><para><emphasis>Separador Ordem</emphasis></para>
               <itemizedlist>

                 <listitem><para><guilabel>Chave primária</guilabel> &mdash; chave primária de ordenação. Uma de</para>
                   <informaltable>
                     <tgroup cols="2">
                       <tbody>
                         <row><entry>Nenhum</entry><entry>não ordenar</entry></row>
                         <row><entry>Nome de conta</entry><entry>ordem e subtotal por nome de conta</entry></row>
                         <row><entry>Código de conta</entry><entry>ordem e subtotal por código de conta</entry></row>
                         <row><entry>Data</entry><entry>ordenar por data</entry></row>
                         <row><entry>Hora exata</entry><entry>ordenar por hora exata</entry></row>
                         <row><entry>Data de reconciliação</entry><entry>ordenar por data de reconciliação</entry></row>
                         <row><entry>Ordem do diário</entry><entry>mesma ordem do diário</entry></row>
                         <row><entry>Outro nome de conta</entry><entry>ordenar por nome de conta de transferência de/para</entry></row>
                         <row><entry>Outro código de conta</entry><entry>ordenar por código de conta de transferência de/para</entry></row>
                         <row><entry>Montante</entry><entry>ordenar por montante</entry></row>
                         <row><entry>Descrição</entry><entry>ordenar por descrição</entry></row>
                         <row><entry>Número</entry><entry>ordenar por número de cheque/transação number</entry></row>
                         <row><entry>Memorando</entry><entry>ordenar por memorando</entry></row>
                       </tbody>
                     </tgroup>
                   </informaltable>
                 </listitem>

                 <listitem><para><guilabel>Mostrar nome completo de conta</guilabel> &mdash; mostrar o nome completo da 
                 conta para subtotais e subtítulos</para></listitem>
                 <listitem><para><guilabel>Mostrar código de conta</guilabel> &mdash; mostrar o código de conta  para 
                 subtotais e subtítulos</para></listitem>
                 <listitem><para><guilabel>Subtotal primário</guilabel> &mdash; subtotal de acordo com a chave primária</para></listitem>
                 <listitem><para><guilabel>Subtotal primário para chave de data</guilabel> &mdash; fazer um subtotal por data. 
                 Só é configurável se a chave primária for uma data, a hora exata ou a ordem do diário. Uma de Nenhuma, Semanalmente, 
                 Mensalmente, Trimestralmente ou Anualmente</para>
                 </listitem>

                 <listitem><para><guilabel>Ordem primária</guilabel> &mdash; uma de</para>
                   <informaltable>
                     <tgroup cols="2">
                       <tbody>
                         <row><entry>Ascendente</entry><entry>do menor para o maior, do mais recente para o mais antigo</entry></row>
                         <row><entry>Descendente</entry><entry>do maior para o menor, do mais antigo para o mais recente</entry></row>
                       </tbody>
                     </tgroup>
                   </informaltable>
                 </listitem>

                 <listitem><para><guilabel>Chave secundária</guilabel> &mdash; chave secundária de ordenação. Dispõe das 
                 mesmas opções que a chave primária</para></listitem>
                 <listitem><para><guilabel>Subtotal secundário</guilabel> &mdash; Subtotal de acordo com a chave secundária</para></listitem>
                 <listitem><para><guilabel>Subtotal secundário para chave de data</guilabel> &mdash; fazer um subtotal por data. 
                 Só é configurável se a chave primária for uma data, a hora exata ou a ordem do diário. Uma de Nenhuma, Semanalmente, 
                 Mensalmente, Trimestralmente ou Anualmente</para>
                 </listitem>

                 <listitem><para><guilabel>Ordem secundária</guilabel> &mdash; uma de</para>
                   <informaltable>
                     <tgroup cols="2">
                       <tbody>
                         <row><entry>Ascendente</entry><entry>do menor para o maior, do mais recente para o mais antigo</entry></row>
                         <row><entry>Descendente</entry><entry>do maior para o menor, do mais antigo para o mais recente</entry></row>
                       </tbody>
                     </tgroup>
                   </informaltable>
                 </listitem>

                 <listitem><para><guilabel>Botão Repor predefiniçoes</guilabel> &mdash; repõe todos os valores predefinidos</para>
               </itemizedlist>
             </listitem>
           </itemizedlist>
        </sect3>

        <sect3 id="report-txrpt-splits">
          <title>Mostrar detalhes das parcelas</title>
          <para>Isto é controlado pela opção <emphasis>Estilo</emphasis> no separador Geral.</para>
          <note>
           <para>A partir da versão 2.8.0 esta opção passa a chamar-se <emphasis>Detalhe</emphasis> e encontra-se 
           no separador Mostrar.</para>
          </note>
          <para>Em modo de linha <emphasis>Única</emphasis>, há só uma linha por transação. Assim pode ter o nome da 
          conta num lado da equação e</para>

          <para>a. o outro nome de conta se houver uma outra parcela na transação</para>

          <para>ou</para>

          <para>b. "Parcela" se houver múltiplas outras parcelas na transação. Não pode mostrar múltiplos nomes de conta 
          numa só linha. Simplesmente não há espaço para isso.
          </para>

          <para>Em modo <emphasis>Multilinha</emphasis>, este relatório usa um conceito completamente diferente. 
          Para cada transação, cada parcela (tanto a parcela nesta conta como a(s) parcela(s) nas outras contas!) é 
          imprimida numa linha separada. E cada parcela quer mesmo dizer <emphasis>cada parcela</emphasis>: tanto a 
          parcela que pertence à conta a ser reportada como a(s) parcela(s) na(s) outra(s) conta(s) que saldam a 
          transação. Assim, até a mais básica transação, só com duas parcelas (a desta conta e a da outra), imprime 
          duas linhas quando em modo multilinha.</para>

          <para>Para uma transação simples como esta</para>
          <informaltable>
            <tgroup cols="4">
              <tbody>
                <row>
                  <entry><emphasis>Descrição</emphasis></entry>
                  <entry><emphasis>Conta</emphasis></entry>
                  <entry><emphasis>Débito</emphasis></entry>
                  <entry><emphasis>Crédito</emphasis></entry>
                </row>
                <row><entry>Cheques recebidos</entry></row>
                <row><entry>"múltiplos pagadores"</entry><entry>Conta Receita</entry><entry></entry><entry>€30.00</entry></row>
                <row><entry></entry><entry>Conta Banco</entry><entry>€30.00</entry><entry></entry></row>
              </tbody>
            </tgroup>
          </informaltable>

          <para>num relatório de transações para a conta bancária, os detalhes aparecem muito parecidos com o que está 
          acima.</para>

          <para>Para clareza das contas, pode inserir transações com múltiplas parcelas referentes à mesma conta. 
          Por exemplo, a transação acima poderia ser inserida assim</para>

          <informaltable>
            <tgroup cols="4">
              <tbody>
                <row>
                  <entry><emphasis>Descrição</emphasis></entry>
                  <entry><emphasis>Conta</emphasis></entry>
                  <entry><emphasis>Débito</emphasis></entry>
                  <entry><emphasis>Crédito</emphasis></entry>
                </row>
                <row><entry>Cheques recebidos</entry></row>
                <row><entry>"1º pagador"</entry><entry>Conta Receita</entry><entry></entry><entry>€10.00</entry></row>
                <row><entry>"2º pagador"</entry><entry>Conta Receita</entry><entry></entry><entry>€20.00</entry></row>
                <row><entry></entry><entry>Conta Banco</entry><entry>€30.00</entry><entry></entry></row>
              </tbody>
            </tgroup>
          </informaltable>

          <para>Quando esta transação é imprimida no relatório de transações da conta bancária em modo de linha 
          <emphasis>Única</emphasis>, sob <emphasis>outra conta</emphasis> imprime simplesmente a palavra 
          <emphasis>Parcelas</emphasis> em vez do nome de conta.
          </para>

          <para>Para mostrar o detalhe adicional da parcela, tem de escolher o modo <emphasis>Multilinha</emphasis> 
          e marcar <emphasis>Mostrar</emphasis> -> <emphasis>Nome de conta</emphasis>.
            NÃO marque <emphasis>Mostrar</emphasis> -> <emphasis>Outro nome de conta</emphasis>.
          </para>

          <para>Pode ativar ou não o nome completo de conta usando <emphasis>Mostrar</emphasis> ->
            <emphasis>Usar nome completo de conta.</emphasis></para>

          <para><emphasis>Usar outro nome completo de conta</emphasis> não tem qualquer efeito em modo 
          <emphasis>Multilinha</emphasis>.</para>

        </sect3>

      </sect2>

      <sect2 id="welcome-report">
        <title>Relatório de boas vindas</title>
        <para> </para>
      </sect2>

      <sect2 id="custom-mc-report">
        <title>Relatório multicoluna personalizado</title>
        <para>Este relatório é usado para juntar múltiplos relatórios numa única janela de relatório com o objetivo de 
        examinar um conjunto de dados financeiros num relance.</para>
      </sect2>

      <sect2 id="sample-graphs">
        <title>Exemplos de gráficos</title>
        <para> </para>
      </sect2>

      <sect2 id="sample-report">
        <title>Relatório exemplo com exemplos</title>
        <para> </para>
      </sect2>

   </sect1>

   <sect1 id="report-assets">
    <title>Ativo &amp; Passivo</title>

     <para>Os relatórios de Ativo &amp; Passivo incluem a Folha de saldo, relatórios de Investimento e o 
     relatório de Valor Líquido.</para>

      <itemizedlist>

       <listitem>
        <para>Portfólio avançado:</para>

        <para>Colunas</para>
          <itemizedlist>

            <listitem><para><guilabel>Conta</guilabel> &mdash; conta de ações</para>
            </listitem>

            <listitem><para><guilabel>Símbolo</guilabel> &mdash; símbolo/abreviatura como definido no Editor de 
            garantias. Há uma opção do relatório para suprimir esta coluna.</para>
            </listitem>

            <listitem><para><guilabel>Listagem</guilabel> &mdash; tipo como definido no Editor de garantias. Há 
            uma opção do relatório para suprimir esta coluna.</para>
            </listitem>

            <listitem><para><guilabel>Ações</guilabel> &mdash; número de ações (quantidade). Tem a opção de definir quantas 
            casas decimais vê. Há uma opção do relatório para suprimir esta coluna.</para>
            </listitem>

            <listitem><para><guilabel>Cotação</guilabel> &mdash; cotação unitária de mercado à data do relatório. 
            Há uma opção do relatório para suprimir esta coluna.</para>
            </listitem>

            <listitem><para><guilabel>Base</guilabel> &mdash; custo de todas as ações adquiridas por quaisquer meios, 
            incluindo taxas de corretagem se esta opção estiver marcada. A opção do relatório <emphasis>Método de cálculo 
            base</emphasis> pode ser definida para Médio, LIFO ou FIFO.</para>
	    </listitem>

            <listitem><para><guilabel>Valor</guilabel> &mdash; número de ações * cotação unitária de mercado à data 
            do relatório</para>
            </listitem>

            <listitem><para><guilabel>Dinheiro entrado</guilabel> &mdash; soma do custo de ações compradas, excluindo 
            ações adquiridas como parte de um plano de reinvestimento de dividendos. Isto é, dinheiro externo usado 
            para comprar ações.</para>
	    </listitem>

            <listitem><para><guilabel>Dinheiro saído</guilabel> &mdash; dinheiro da venda de ações.</para>
	    </listitem>

            <listitem><para><guilabel>Ganho realizado</guilabel> &mdash; dinheiro recebido da venda de ações menos 
            a base das ações vendidas, menos taxas de corretagem da venda se a opção de as incluir na base estiver marcada.</para>
	    </listitem>

            <listitem><para><guilabel>Ganho não realizado</guilabel> &mdash; valor menos a base de ações não vendidas</para>
	    </listitem>

            <listitem><para><guilabel>Ganho total</guilabel> &mdash; ganho realizado + ganho não realizado</para>
	    </listitem>

            <listitem><para><guilabel>Taxa de ganho</guilabel> &mdash; ganho total / dinheiro entrado * 100 
            (da versão <application>&app;</application> 2.6.1 em diante)</para>
	    </listitem>

            <listitem><para><guilabel>Receita</guilabel> &mdash; total de todas as transações de receita associadas com 
            uma conta de ações.</para>
              <note>
                <para>Para incluir receita de dividendos não reinvestidos (se não houver parcela na conta de ações 
                na transação de receita, o relatório não tem maneira de associar a receita com uma ação em particular):
                </para>
		<para>Garanta que há uma transação fictícia na conta de ações com quantidade 0, cotação 1 e valor 0 na transação de 
		dividendos. Insira a parcela fictícia sem valores na conta de dividendos e a transação será criada com 
		cotação 1, mesmo que não veja a coluna Cotação nesse diário.</para>
                <para>No GnuCash 2.6.6, este relatório foi modificado para simplificar o registo de dividendos e 
                pagamentos de juros. Com esta alteração, pode não ser necessário incluir a parcela fictícia na transação. 
                O relatório encontra transações de receita (e despesa) que estejam na conta-mãe da conta de ações a 
                ser reportada. Isto é feito procurando na contamãe por transações que tenham exatamente duas parcelas 
                (sem contar com transações da conta de negócio) onde a outra parcela seja para uma conta de receita ou 
                de despesa com o mesmo nome que a conta de ações.
                </para>
                <para>For example given an account structure like
                </para>
                <literallayout>
                Assets (type ASSET)
                  Broker (type ASSET)
                    Widget Stock (type STOCK)
                Income (type INCOME)
                  Dividends (type INCOME)
                    Widget Stock (type INCOME)
                </literallayout>
                <para>A transaction that debits the "Assets:Broker" account and credits the "Income:Dividends:Widget Stock" account will count as income even though it doesn't have a split with account "Assets:Broker:Widget Stock".
                </para>
                <para>This only works if the parent account ("Assets:Broker" in this case) is a Bank or Asset account and the Income/Expense account has the same name as the stock account. It won't double count transactions that have a dummy split since they won't have exactly two split transactions.
                </para>
                <para>It will not work if the income or expense account split is to a subaccount of the account with the same name as the stock account i.e. "Income:Dividends:Widget Stock:Franked"
                </para>
	      </note>
	    </listitem>

            <listitem><para><guilabel>Brokerage Fees</guilabel> &mdash; Brokerage Fees</para>
	    </listitem>

            <listitem><para><guilabel>Total Return</guilabel> &mdash; Total Gain + Income</para>
	    </listitem>

            <listitem><para><guilabel>Rate of Return</guilabel> &mdash; Total Return / Money In * 100</para>
	    </listitem>

          </itemizedlist>

        <para>Common report options are described in <xref linkend="report-custom"/></para>

        <para>Report Specific Options</para>

        <itemizedlist>	<!-- list of Tabs -->

          <listitem><para>Accounts Tab</para>

            <itemizedlist>

              <listitem><para><guilabel>Include accounts with no shares</guilabel> &mdash; Unchecked (default) or checked.</para>
              </listitem>

            </itemizedlist>

          </listitem>	<!-- end of Accounts Tab -->

          <listitem><para>Display Tab</para>

            <itemizedlist>

              <listitem><para><guilabel>Show ticker symbols</guilabel> &mdash; Checked default) or unchecked. If unchecked, Symbol column will be omitted.</para>
              </listitem>

              <listitem><para><guilabel>Show listings</guilabel> &mdash; Checked (default) or unchecked. If unchecked, Listing column (source of shares price quotes) will be omitted.</para>
              </listitem>

              <listitem><para><guilabel>Show number of shares</guilabel> &mdash; Checked (default) or unchecked. If unchecked, Shares column will be omitted.</para>
              </listitem>

              <listitem><para><guilabel>Share decimal places</guilabel> &mdash; The number of decimal places to show in the number of shares. Default is 2.</para>
              </listitem>

              <listitem><para><guilabel>Show prices</guilabel> &mdash; Checked (default) or unchecked. If unchecked, Price column will be omitted.</para>
              </listitem>

            </itemizedlist>

          </listitem>	<!-- end of Display Tab -->

          <listitem><para>General Tab</para>

            <itemizedlist>

              <listitem><para><guilabel>Price Source</guilabel> &mdash; Nearest in time (default) or Most Recent.</para>
              </listitem>

              <listitem><para><guilabel>Basis calculation method</guilabel> &mdash; Average (default), FIFO or LIFO.</para>
              </listitem>

              <listitem><para><guilabel>Set preference for price list data</guilabel> &mdash; Checked (default): Use price list data. If there is no relevant price list data, transaction prices will be used and there will be a warning. Unchecked: Get prices from stock transactions.</para>
              </listitem>

              <listitem><para><guilabel>How to report brokerage fees</guilabel> &mdash; Include in basis (default), Include in gain or Ignore.</para>
              </listitem>

            </itemizedlist>

          </listitem>

        </itemizedlist>

       </listitem>

       <listitem>
        <para>Asset Barchart:</para>

        <para>The Asset Barchart report displays bars that present the value of all assets in a
        <application>&app;</application> file over time.  By default, the report shows all accounts
        in <emphasis>Accounts Receivable</emphasis>, <emphasis>Current Assets</emphasis>,
        <emphasis>Fixed Assets</emphasis>, <emphasis>Investments</emphasis> and Special Accounts
        (if they exist) and it displays monthly bars for the current financial period. 
        This report provides a graphic view of the assets in the file over time.</para>

        <tip>
          <para>Like all the generic reports, the user can assign a title and save the report with 
          it's selected options for re-use later.</para>
        </tip>  
        
        <para>The display is in the form of either a stacked barchart or simple barchart with an 
        option to display a table of the values.</para>

        <para>This report calculates and displays a default of 8 bars or up to 24 separate asset
        accounts value at the end of the day on several dates through a specified time period.
        The report automatically selects the most significant accounts to display with all other
        selected accounts summed as <emphasis>Other</emphasis>.</para>

        <para>The report exploits the outline structure of the chart of accounts to allow the user
        to select top level accounts and sub-accounts down to a user-selectable depth.  Selected 
        sub-accounts below the selected depth are automatically <emphasis>summed up</emphasis> into
        the next level when it is also selected.  The default number of sub-account levels is 2,
        giving a summary view.  Increasing the number of sub-levels increases the detail available
        to display. It is possible to un-select a higher level account and leave sub-accounts 
        selected to force greater detail to appear in the report.</para>

        <para>By default the report includes all <emphasis>asset</emphasis> accounts and sub-accounts,
        as well as <emphasis>Imbalance</emphasis> and <emphasis>Orphan</emphasis> Special accounts
        in whatever currencies or commodities may be present. The report's base currency is the 
        default currency of the <application>&app;</application> file but if the file has data
        for multiple currencies, then it can be changed to another currency.</para>

        <para>Since each account may be individually selected, the report can be designed to focus 
        on a small subset of data such as current assets or investments.</para>

        <para>The overall interval of the report defaults to start at the start of the current 
        accounting period and to end at the end of the current accounting period. Numerous 
        other starting choices and ending choices are available.</para>

        <para>The first bar shows the selected values at the end of the day on the first date chosen.
        There are a number of choices for step size from <emphasis>day</emphasis> to 
        <emphasis>year</emphasis> with the default being <emphasis>month</emphasis>. Note that if any 
        step date would fall on the 29th, 30th or 31st in a month that does not have such a date
        the next interval will be 31 days later. For that step only the date will <emphasis>slip</emphasis>
        up to 3 days into the following month. This is true for releases at least through 2.4.13.
        Bug 639049 is open in Bugzilla to modify this behavior.</para>

        <para>Currently, there is no option to start the report on the last day of any period. 
        There is also no option to show <emphasis>beginning</emphasis> balances or <emphasis>end of 
        previous step</emphasis> balances. This makes it difficult to correlate this report to 
        business quarterly reports, for example.</para>

        <para>The Net Worth linechart report, Liability barchart report and Net Worth barchart 
        report are similar except for the graphic type and default account groups selected.</para>

       <para>Other features are customizable in a manner similar to other standard reports.</para>

       </listitem>

       <listitem>
        <para>Asset Piechart:</para>
       </listitem>

       <listitem>
        <para>Average Balance:</para>
       </listitem>

       <listitem>
        <para>Balance Sheet: This report summarizes assets, liabilities, and equity.
         When properly maintained, assets should equal the sum of liabilities and equity.
         If that is not the case, there is some kind of internal imbalance in the
         accounts.</para>
       </listitem>

       <listitem>
        <para>General Journal:</para>
       </listitem>

       <listitem>
        <para>General Journal:</para>
       </listitem>

       <listitem>
        <para>Investment Portfolio: This report summarizes the value of the stocks in
         the current portfolio.</para>
       </listitem>

       <listitem>
        <para>Liability Barchart:</para>
       </listitem>

       <listitem>
        <para>Liability Piechart:</para>
       </listitem>

       <listitem>
        <para>Net Worth Barchart: Net worth is the difference between the value of assets
         or liabilities.</para>
       </listitem>

       <listitem>
        <para>Net Worth Linechart: Net worth plotted over time.  Net worth is the difference between the value of assets
         or liabilities.</para>
       </listitem>

       <listitem>
        <para>Price Scatterplot:</para>
       </listitem>
      </itemizedlist>
   </sect1>

   <sect1 id="report-income">
    <title>Income &amp; Expense</title>

     <para>The Income &amp; Expense reports includes the Cash Flow and Income Statement reports.</para>

      <itemizedlist>
       <listitem>
        <para>Budget Report:</para>
	<para>This report is used to compare budgeted and real amounts for selected accounts. It allows you to review how well you follow the budget.</para>
	<para>The report is generated as a table in which each row represents an account and each set of columns shows the <emphasis>budgeted amount</emphasis>, the <emphasis>real amount</emphasis>, and the <emphasis>difference</emphasis> between them for each report period.</para>
	<para>Each entry in the <emphasis>real amount</emphasis> column is the sum of all the splits in the row's account over the column's period. For example, if the report is set up for monthly periods, the column is for May, and the row is for Expences:Groceries, then the value will be the sum of all Expenses:Groceries splits for that May.</para>
	<para>The report supports selecting a range of periods instead all of them. Periods that are out of range can be included in report as the consolidated columns around the selected range. This allows you to focus on particular periods, for example the current one, and is especially useful for budgets with many periods. For example, if you have a 12 period budget you can make a 3 column report with the format "(all periods before columns set) (current period columns set) (all periods after columns set)" that is easily fits on the screen and allows you to match values with account names.</para>
	<para><emphasis>Budget report options</emphasis></para>
	<para>
	  <note><para>Here we describe only options that are specific for the Budget Report. You can find information about standard parameters in <xref linkend="report-custom"/>.</para> </note>
	  <itemizedlist>
	    <listitem><para><emphasis>Show budget</emphasis> - include the budgeted values for the period</para></listitem>
	    <listitem><para><emphasis>Show actual</emphasis> - include the real values for the period</para></listitem>
	    <listitem><para><emphasis>Show difference</emphasis> - include the difference between budgeted and real values for the period. Enabling this option does not force including budgeted and actual values in report</para></listitem>
	    <listitem><para><emphasis>Show Column with totals</emphasis> - Adds a final column set containing budgeted, real value, and difference columns summing those values across all periods of the report.</para></listitem>
	    <listitem><para><emphasis>Rollup budget amounts to parent</emphasis> - not used in report, can be deleted or should be fixed</para></listitem>
	    <listitem><para><emphasis>Include accounts with zero total balances and budget values</emphasis> - enables display of accounts with no budget or splits in any period.</para></listitem>
	    <listitem><para><emphasis>Budget</emphasis> - Select the budget to use for report generation</para></listitem>
	    <listitem><para><emphasis>Report for range of budget periods</emphasis> - Enables reporting on a subset of the budget by selecting a beginning and an ending period.</para></listitem>
	    <listitem><para><emphasis>Range start</emphasis> - a combobox with a list of variants how to select start period:
	    <orderedlist>
	      <listitem><para><emphasis>First</emphasis> - select first budget period</para></listitem>
	      <listitem><para><emphasis>Previous</emphasis> - select previous period.</para></listitem>
	      <listitem><para><emphasis>Current</emphasis> - select current period.</para></listitem>
	      <listitem><para><emphasis>Next</emphasis>  - select next period.</para></listitem>
	      <listitem><para><emphasis>Last</emphasis> - select last budget period</para></listitem>
	      <listitem><para><emphasis>Manual</emphasis> - enables spinbox where you can select exact period</para></listitem>
	    </orderedlist></para>
	    <note><para>The <emphasis>current</emphasis>, <emphasis>previous</emphasis>, and <emphasis>next</emphasis> options select the period based on the date on which the report is run, with <emphasis>current</emphasis> being the period in which the date falls, <emphasis>previous</emphasis> being the one before that, and <emphasis>next</emphasis> the period after. If the current date falls outside the date range covered by the budget, the <emphasis>first</emphasis> or <emphasis>last</emphasis> period will be used as appropriate.</para></note>
	    </listitem>
	    <listitem><para><emphasis>Exact start period</emphasis> - options for select exact start period, enabled only if range start option is set to <emphasis>Manual</emphasis></para></listitem>
	    <listitem><para><emphasis>Range end</emphasis> - a combobox with a list of variants how to select end period. Values are the same as in <emphasis>Range start</emphasis> options</para></listitem>
	    <listitem><para><emphasis>Exact end period</emphasis> - the same as <emphasis>Exact start period</emphasis> but for the end of range</para></listitem>
	    <listitem><para><emphasis>Include collapsed periods before selected</emphasis> - if on, then includes in report all budget periods, that are before selected period range, as a single consolidated column set</para></listitem>
	    <listitem><para><emphasis>Include collapsed periods after selected</emphasis> - if on, then includes in report all budget periods, that are after selected period range, as a single consolidated column set.</para></listitem>
	  </itemizedlist>
	</para>
      </listitem>

       <listitem>
        <para>Cash Flow:</para>
       </listitem>

       <listitem>
        <para>Equity Statement:</para>
       </listitem>

       <listitem>
        <para>Expense Barchart:</para>
       </listitem>

       <listitem>
        <para>Expense Piechart:</para>
       </listitem>

       <listitem>
        <para>Expense vs Day of Week:</para>
       </listitem>

       <listitem>
        <para>Income Barchart:</para>
       </listitem>

       <listitem>
        <para>Income &amp; Expense Chart:</para>
       </listitem>

       <listitem>
        <para>Income Statement: This report summarizes sources of income and expenditure.
         (This report was called Profit &amp; Loss in gnucash-1.8.)</para>
       </listitem>

       <listitem>
        <para>Income Statement:</para>
       </listitem>

       <listitem>
        <para>Income vs Day of Week:</para>
       </listitem>

       <listitem>
        <para>Trial Balance: This report summarizes sources of income and expenditure.</para>
       </listitem>
      </itemizedlist>

   </sect1>

   <sect1 id="report-biz">
    <title>Business Reports</title>

      <para>The Business Reports includes Customer and Vendor Reports and Printable
       Invoices as well as Aging reports.</para>

       <itemizedlist>
        <listitem>
         <para>Customer Report:</para>
        </listitem>

        <listitem>
         <para>Easy Invoice:</para>
        </listitem>

        <listitem>
         <para>Employee Report:</para>
        </listitem>

        <listitem>
         <para>Fancy Invoice:</para>
        </listitem>

        <listitem>
         <para>Payable Aging:</para>
        </listitem>

        <listitem>
         <para>Printable Invoice:</para>
        </listitem>

        <listitem>
         <para>Receivable Aging:</para>
        </listitem>

        <listitem>
         <para>Vendor Report:</para>
        </listitem>
       </itemizedlist>

     </sect1>

     <sect1 id="report-custom">
      <title>Customizing Reports and Graphs</title>

        <para><application>&app;</application> reports have many options
        for customization. First, run the original report itself. Then,
        access the report options with the <guibutton>Options</guibutton>
        button on the toolbar.</para>

           <note> <para>Check changed Graphic Engine Options and describe Saving Customized Reports</para></note>
<!--
              suggest how to save report options E.g. Choose definite options when you
              want to see an Income Statement, so you want to save them for future and
              not to choose all the time.

                File -> Add Report   (in 2.0.5).
              But first, you must change the title of the report in the options. -->

        <para>Many reports share similar sorts of options. Some common ones include:</para>

        <itemizedlist>
          <listitem>
            <para>Report Name: Set the title of the report. This is also used to print the
             report for later viewing.</para>
          </listitem>

          <listitem>
            <para>Date Options: Reports typically specify either a single date, or a date
             range, for the report. Dates can be specified in two ways, either directly
             (using the date selector), or by selecting a relative date from the menu.
             Relative dates allow you to specify dates like <guilabel>Beginning of this year</guilabel> or
             <guilabel>Today</guilabel>.</para>
          </listitem>

          <listitem>
            <para>Step Size: This option is used on bar charts to determine the interval which
             each bar represents. Typical values are daily, weekly, monthly, and yearly.</para>
          </listitem>

          <listitem>
            <para>Accounts: Select the appropriate accounts for the report. Note that in some
             reports only certain types of accounts can be selected. For example, an expense
             piechart only allows expense accounts to be selected. </para>
          </listitem>

          <listitem>
            <para>Show Long Account Names: This option allows displaying either short account
             names (for example, Power) or long account names (for example, Utilities:Power).
            </para>
          </listitem>

          <listitem>
            <para>Include Subaccounts?: Summary reports typically have an include all
             subaccounts option, which if selected ensures that all subaccounts are included
             if the parent account is.</para>
          </listitem>

          <listitem>
            <para>Depth: This option allows the selection of how many levels the report
             displays subaccounts. If the subaccounts go deeper than selected, an overall value
             for all the subaccounts is calculated and included in a total. To make sure every
             account selected is individually displayed, select <guibutton>All</guibutton>.</para>
          </listitem>

          <listitem>
            <para>Style Sheet: Select a Style Sheet. Style sheets control how reports are
             displayed. At the moment, there are four style sheets: <guilabel>Default</guilabel>, <guilabel>Easy</guilabel>,
             <guilabel>Footer</guilabel> and <guilabel>Technicolor</guilabel>.
             You can customize each of these from the <menuchoice><guimenu>Edit</guimenu><guimenuitem>Style
             Sheets...</guimenuitem></menuchoice> menu item.
             This is described in the Changing Style Sheets section. <xref linkend="change-style"></xref></para>
          </listitem>

          <listitem>
            <para>Plot Dimensions: There are width and height options for most graphs, which
             specify the displayed dimensions (in pixels).</para>
          </listitem>

          <listitem>
            <para>Report Currency: Select the report currency. Generally, values will be
             converted to this currency for display.</para>
          </listitem>

          <listitem>
            <para>Price Source: Select how stock and currency prices are calculated in this
             report. Choose between a weighted average of prices over all transactions, prices
             at current values, or prices at the time of the report date.</para>
          </listitem>

          <listitem>
            <para>Totals: Charts display totals in the chart legend if this option is selected.
            </para>
          </listitem>

          <listitem>
            <para>Maximum Slices: Controls the maximum number of slices displayed in a
             piechart - other accounts will be placed in a slice marked Other. </para>
          </listitem>

          <listitem>
            <para>Maximum Bars: Controls the maximum number of bars displayed in a barchart.
            </para>
          </listitem>

          <listitem>
            <para>Display Columns: Choose columns to show from the register.</para>
          </listitem>
        </itemizedlist>
      </sect1>

      <sect1 id="report-print">
        <title>Printing or Exporting Reports and Graphs</title>

          <note><para> Verify !!!  How customize printing with Gnome?</para></note>

        <para><application>&app;</application> is able to print reports and to export the reports to <acronym>HTML</acronym> (web) pages. The
         Print <application>&app;</application> Document dialog is accessed from the <guibutton>Print</guibutton> button on the <emphasis>Toolbar</emphasis> or
         go to <menuchoice><guimenu>File</guimenu><guimenuitem>Print</guimenuitem></menuchoice> in the menu. To Export a report to a web page (<acronym>HTML</acronym>) select
         the <guibutton>Export</guibutton> button on the <emphasis>Toolbar</emphasis> and type in a file name.</para>


        <para>The Print <application>&app;</application> Document dialog is used to select which Printer to send the
         print job to or to print to a File. It also contains a Preview button to view the
         document before printing. Press Print to send the job to the selected printer or
         <guibutton>Cancel</guibutton> to dismiss the Print dialog.</para>


        <para>Printing from an open register prints the Account Report, which is also called
         the Register Report. This lists transactions in the account with a total. Other
         reports print as viewed in the Report screen.</para>
      </sect1>

      <sect1 id="report-create">
        <title>Creating Reports and Graphs</title>

             <note><para>This section may need updating !!!</para> </note>

        <para>It is possible to write reports if the current ones are not suitable. To do this
         you will need to know Scheme (a LISP-like programming language), and it is an
         excellent idea to have a copy of the <application>&app;</application> source code available. </para>

        <para>The reporting interface is documented in the source code file
         <filename>src/report/report-system/doc/report-html.txt</filename>. The file <filename>src/report/utility-reports/hello-world.scm</filename>
         in the <application>&app;</application> source distribution provides a good example of how reports are
         developed.</para>

        <para>It is also necessary to access data from the engine to get information for your
         report. This is performed by a set of Scheme wrapper functions that are documented in
         the file <filename>src/g-wrap/gnc.html</filename>. Examine some of the other reports in src/scm/report for
         an indication of how they are used.</para>

        <para>At present, reports are produced by calling a <acronym>HTML</acronym>-generation API, which outputs
         a dialect of <acronym>HTML</acronym> and rendering this with a <acronym>HTML</acronym> widget. This has limitations,
         particularly when trying to align objects precisely, as might be necessary for
         printing onto pre-printed invoices for example.</para>
   </sect1>

</chapter>
