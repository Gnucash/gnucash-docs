<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter SYSTEM "gnc-gui-C.dtd">
<!-- (Do not remove this comment block.)
  Version: 2.0.x
  Last modified: December 7th 2009
       modified: March 28th 2007
       modified: August 12th 2006
	   modified: February 28th 2005
  Maintainers:
    Alex Aycinena <alex.aycinena@gmail.com>
    Chris Lyttle <chris@wilddev.net>
    Neil Williams <linux@codehelp.co.uk>
  Author:
    Chris Lyttle <chris@wilddev.net>
  Translators:
    (translators put your name and email here)
-->
<chapter id="setup-accounts"
         xmlns:xi="http://www.w3.org/2001/XInclude">
  <title>Setting Up, Editing &amp; Working with Accounts</title>

  <para>This section describes the process of setting up, editing and working with &app; Accounts. In &app;
    an Account is used as the basic tool to organize the recording of where money comes from and
    goes to. &app; also extends the concept of real world accounts such as a bank account or loan
    account to grouping income and expense accounts. This allows you to quickly see where you spent
    your money and what your major income and expenses are. &app; sets Account Types (as described
    in the next section) to help in organizing and grouping accounts. Account Types can be used to
    create a Chart of Accounts.
  </para>

  <sect1 id="acct-types">
    <title>Types of &appname; Accounts</title>

    <para>&app; supports a number of different account types. It is recommended to choose an appropriate
      account type based on the list of account types described below.
    </para>

    <tip>
      <para>When creating new accounts, the available options for the account type are limited, depending on the
        account type of the parent (main) account.
      </para>
    </tip>

    <para>Besides the basic account types described in the
      <ulink url="&url-docs-build-C;guide/accts-types1.html">&app; tutorial and concepts</ulink>,
      &app; also offers a few special account types. These are characterised in particular by
      adapted proposal lists -interest or dividend payment- in the action field and adapted actions.
      payment of dividends - in the action field and adjusted actions - e.g. there is no share
      division.
    </para>

    <table frame="topbot" id="TypeAccounts">
      <title>Types of &appname; Accounts</title>

      <tgroup align="left" cols="4">
        <colspec colname="c1"></colspec>

        <colspec colname="c2"></colspec>

        <colspec colname="c3"></colspec>

        <colspec colname="c4"></colspec>

        <thead>
          <row>
            <entry>
              <para>Basic Accounting Types
              </para>
            </entry>

            <entry>
              <para>Account Type
              </para>
            </entry>

            <entry>
              <para>Description
              </para>
            </entry>

            <entry>
              <para>Parent account
              </para>
            </entry>
          </row>
        </thead>

        <tbody valign="top">
          <row rowsep="1">
            <entry namest="c1" nameend="c2">
              <para>Asset accounts
              </para>
            </entry>

            <entry namest="c3" nameend="c4">
              <para>The evaluation<menuchoice>
                  <guimenu><accel>R</accel>eport</guimenu><guisubmenu><accel>A</accel>ssets &amp;
                  Liabilities</guisubmenu><guimenuitem>Ba<accel>l</accel>ance Sheet</guimenuitem>
                </menuchoice>gives you an overview on any <emphasis>reporting date</emphasis>.
              </para>
            </entry>
          </row>

          <row rowsep="1">
            <entry namest="c1" morerows="8">
              <para>Active
              </para>
            </entry>

            <entry namest="c2" nameend="c3">
              <para>Assets denotes the use of funds and is on the left-hand side of the balance sheet. At the next level
                of the account structure, it is useful to distinguish between current and fixed
                assets. This can help you to recognise liquidity bottlenecks early on.
              </para>
            </entry>

            <entry namest="c4" morerows="12">
              <para>All accounts except Equity, Expense and Income
              </para>
            </entry>
          </row>

          <row rowsep="1">
            <entry namest="c2">
              <para>Asset
              </para>
            </entry>

            <entry namest="c3">
              <para>Asset accounts are used for tracking things that are of value and can be used or sold to pay debts.
              </para>
            </entry>
          </row>

          <row rowsep="1">
            <entry namest="c2" nameend="c3">
              <para>(Current assets, short-term)
              </para>
            </entry>
          </row>

          <row>
            <entry namest="c2">
              <para>Cash
              </para>
            </entry>

            <entry namest="c3">
              <para>The Cash account type is used to denote the cash that you store in your wallet, shoe box, piggyback,
                or mattress. In the case of business use, this can also mean the cash register.
              </para>
            </entry>
          </row>

          <row>
            <entry namest="c2">
              <para>Bank
              </para>
            </entry>

            <entry namest="c3">
              <para>The Bank account type denotes savings or checking accounts held at a bank or other financial
                institution. Some of these accounts may bear interest. This is also the appropriate
                account type for check (debit) cards, which directly withdraw payments from a
                checking account.<footnote>
                  <para>For some of these accounts, it is possible to send orders to the financial institution via online
                    banking and to retrieve and import bookings. (see
                    <xref linkend="trans-online" />)
                  </para>
                </footnote>
              </para>
            </entry>
          </row>

          <row>
            <entry namest="c2" rowsep="1">
              <para>Accounts Receivable<footnote id="fn-receivables-kat">
                  <para><warning>
                      <para>The Accounts Payable and Accounts Receivable types are used internally by &app;&rsquo;s business
                        features. Transactions involving these accounts should not be added, changed
                        or deleted in any way other than by using<itemizedlist spacing="compact">
                          <listitem>
                            <para>post/unpost bill/invoice/voucher or
                            </para>
                          </listitem>

                          <listitem>
                            <para>process payment
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </warning><tip>
                      <para>Create only one account per required currency. The different customers or suppliers are
                        automatically by &app; keeps them apart.
                      </para>
                    </tip>
                  </para>
                </footnote>
              </para>
            </entry>

            <entry namest="c3">
              <para>This is typically a business use only account in which you place outstanding debts owed to you. It
                is considered an asset because you should be able to count on these funds arriving.<footnote>
                  <para>Previous versions of this help defined A/P and A/R the other way round.
                  </para>
                </footnote>
              </para>
            </entry>
          </row>

          <row rowsep="1">
            <entry namest="c2" nameend="c3">
              <para>(Fixed assets; long-term)
              </para>
            </entry>
          </row>

          <row>
            <entry namest="c2">
              <para>Stock
              </para>
            </entry>

            <entry namest="c3">
              <para>A share of ownership in a corporation, which entitles its owner to all the risks and rewards that go
                with it.<footnote>
                  <para><ulink url="&url-wp-en;Share_(finance)"/>
                  </para>
                </footnote><footnote>
                  <para><tip>
                      <para>As long as cryptocurrencies are not supported by &app; as currencies, it is recommended that they be
                        also be invested as shares.
                      </para>
                    </tip>
                  </para>
                </footnote>
              </para>
            </entry>
          </row>

          <row rowsep="1">
            <entry namest="c2">
              <para>Mutual fund
              </para>
            </entry>

            <entry namest="c3">
              <para>A professionally managed portfolio of stocks and bonds or other investments divided up into shares.
              </para>
            </entry>
          </row>

          <row rowsep="1">
            <entry namest="c1" morerows="4">
              <para>Liabilities
              </para>
            </entry>

            <entry namest="c2" nameend="c3">
              <para>The second balance sheet account is Liabilities, refers to what you owe, money you have borrowed and
                are obligated to pay back some day. These represent the rights of your lenders to
                obtain repayment from you.
              </para>
            </entry>
          </row>

          <row>
            <entry namest="c2">
              <para>Liability
              </para>
            </entry>

            <entry namest="c3">
              <para>Liability accounts are used for tracking debts or financial obligations. (Normally a placeholder
                account)
              </para>
            </entry>
          </row>

          <row>
            <entry namest="c2">
              <para>Credit Card
              </para>
            </entry>

            <entry namest="c3">
              <para>The Credit Card account type is used to denote credit card accounts, both for cards that allow
                floating lines of credit (e.g. VISA, MasterCard, or Discover) and with cards that do
                not permit continuing balances (e.g. American Express)
              </para>
            </entry>
          </row>

          <row>
            <entry namest="c2">
              <para>Accounts Payable <footnoteref linkend="fn-receivables-kat" />
              </para>
            </entry>

            <entry namest="c3">
              <para>Accounts Payable are used by businesses to record amounts that must be paid.<footnote>
                  <para>Previous versions of this help defined A/P and A/R the other way round.
                  </para>
                </footnote>
              </para>
            </entry>
          </row>

          <row rowsep="1">
            <entry namest="c2">
              <para>Equity
                <footnote id="fn-equity-kat">
                  <para><caution>
                      <para><computeroutput>Equity</computeroutput> and its temporary variants.
                        <computeroutput>Income</computeroutput> and
                        <computeroutput>Expense</computeroutput> should always be kept in the local
                        currency when official accounts are kept.
                      </para>
                    </caution>
                  </para>
                </footnote>
              </para>
            </entry>

            <entry namest="c3">
              <para>Equity Accounts represents your net economic value. This type of account is only posted at two
                times: When you start your book, the opening balances are offset here. (see
                <xref linkend="acct-open-balance" />). And at the end of an posting period, &app; uses
                this account to make the <xref linkend="tool-close-book" /> to record. For a
                household, it is recommended to create one account/tree per resident.
              </para>
            </entry>

            <entry namest="c4">
              <para>Only Equity accounts
              </para>
            </entry>
          </row>

          <row rowsep="1">
            <entry namest="c1" nameend="c2">
              <para>Profit &amp; Loss<footnote id="fn-quick-kat">
                  <para>Often referred to as a <quote>Category</quote> in <application>Quicken</application> or
                    <application>Lexware FinanzManager</application> and other programmes that are
                    not based on double-entry bookkeeping.
                  </para>
                </footnote>
              </para>
            </entry>

            <entry namest="c3" nameend="c4">
              <para>If required, at the next account level you can insert the distinction between taxable/tax-free, or
                tax deductible or not. The evaluation<menuchoice>
                  <guimenu><accel>R</accel>eports</guimenu><guisubmenu><accel>I</accel>ncome &amp;
                  Expense</guisubmenu><guimenuitem>P<accel>r</accel>ofit &amp; Loss</guimenuitem>
                </menuchoice>gives you an overview for any <emphasis>period</emphasis> such as e.g. the business year.
              </para>
            </entry>
          </row>

          <row>
            <entry namest="c1">
              <para>Income <footnoteref linkend="fn-equity-kat" />
              </para>
            </entry>

            <entry namest="c3">
              <para>Any income received from sources such as salary, interest, dividends, etc.
                <footnoteref linkend="fn-quick-kat" />
              </para>
            </entry>

            <entry namest="c4" morerows="1">
              <para>Only Expense or Income accounts
              </para>
            </entry>
          </row>

          <row rowsep="1">
            <entry namest="c1">
              <para>Expense <footnoteref linkend="fn-equity-kat" />
              </para>
            </entry>

            <entry namest="c3">
              <para>Any expense such as food, clothing, taxes, etc. <footnoteref linkend="fn-quick-kat" />
              </para>
            </entry>
          </row>
        </tbody>
      </tgroup>
    </table>

    <para>The wizard <xref linkend="chart-create" /> offers a convenient method to configure a usable basic
      framework for configuring your account tree.
    </para>

    <note>
      <para>In certain situations, &app; automatically creates some special other accounts. Below you will find
        a short list of why these accounts are suddenly included in your account structure and how
        to deal with them.
      </para>
    </note>

    <table frame="topbot">
      <title>Types of &appname;&rsquo;s internal accounts</title>

      <tgroup align="left" cols="4">
        <colspec colname="c1"></colspec>

        <colspec colname="c2"></colspec>

        <colspec colname="c3"></colspec>

        <colspec colname="c4"></colspec>

        <thead>
          <row>
            <entry>
              <para>Status
              </para>
            </entry>

            <entry>
              <para>Account type/ Account name
              </para>
            </entry>

            <entry>
              <para>Description
              </para>
            </entry>

            <entry>
              <para>Parent account
              </para>
            </entry>
          </row>
        </thead>

        <tbody>
          <row rowsep="1">
            <entry namest="c1" nameend="c2">
              <para>internal accounts
              </para>
            </entry>

            <entry namest="c3" nameend="c4">
              <para>Internal accounts are not created by the user, but by &app; if required.
              </para>
            </entry>
          </row>

          <row rowsep="1">
            <entry namest="c1">
              <para>regular operation
              </para>
            </entry>

            <entry namest="c2">
              <para>Trading
              </para>
            </entry>

            <entry namest="c3">
              <para>Multiple currency transactions have splits in “Trading” accounts to make the transaction balance
                in each currency as well as in total value. As soon as you make the first purchase,
                such as exchanging your home currency into that of the holiday destination, an
                account is created for both currencies, if it does not already exist. The details
                are described in <ulink url="&tit-sel-tut;"></ulink> and
                <ulink url="&tit-sel-gnc;"></ulink>.
              </para>
            </entry>

            <entry namest="c4">
              <para>Trading accounts only
              </para>
            </entry>
          </row>

          <row rowsep="1">
            <entry namest="c1">
              <para>Error case
              </para>
            </entry>

            <entry namest="c2">
              <para>Orphan-<replaceable>XXX</replaceable>, Imbalance-<replaceable>XXX</replaceable>
              </para>
            </entry>

            <entry namest="c3">
              <para>You have entered at least one unbalanced transaction. To correct this, move the contained
                transactions to the correct accounts. You can then delete the account.
              </para>
            </entry>

            <entry namest="c4">
              <para>Only assets and liabilities accounts
              </para>
            </entry>
          </row>
        </tbody>
      </tgroup>
    </table>
  </sect1>

  <sect1 id="chart-create">
    <title>Creating a Chart of Accounts</title>

    <para>The chart of accounts is the - hierarchically arranged - table of contents of your accounts. &app;
      can support you in your work with the <xref linkend="acct-hierarchy" /> wizard.
    </para>

    <para>The Chart of Accounts is like a table of contents for your finances. The best way to conceptualize a
      chart of accounts is as a tree. The main branches represent entire categories or groups, while
      the leaves of the tree denote individual bank accounts or expense categories. When a summary
      report is requested, typically only the main branches are shown in the report, rather than the
      individual accounts.
    </para>

    <para>For example, a chart of accounts might look like the following:<xi:include href="Help_chtacctseg.xml"/>
    </para>

    <tip id="accts-code">
      <title>Accounts codes</title>

      <para>Since it is difficult to visualise factual relationships with alphabetical sorting by account name,
        it is recommended to use and sort by alphanumeric account numbers. When a report is
        generated, the sort order is determined by the numbering. It&rsquo;s customary to have the
        leaf accounts end in non-zero digits, while parent nodes have increasing numbers of zeros
        and are marked as <xref linkend="acct-placeholder" />.
      </para>
    </tip>

    <tip>
      <para>&app; does not prevent duplicate numbering, but it is recommended that you avoid this in order to
        achieve uniqueness. It is advisable to use the digits first when defining the account
        numbers. If these are not sufficient, you can also use the letters <quote>a</quote> to
        <quote>z</quote>. &app; can help you with the numbering your accounts. To do this, use the
        wizard<menuchoice>
          <guimenu><accel>E</accel>dit</guimenu><guimenuitem><accel>R</accel>enumber
          subaccounts…</guimenuitem>
        </menuchoice>To help. An example is described in <xref linkend="chart-renumber" />.
      </para>
    </tip>
  </sect1>

<!-- FIXME moved von GettingStarted -->
<!-- FIXME After GettingStarted has been revised, change ID to id="acct-hierarchy"  -->
  <sect1 id="acct-hierarchy_new">
    <title>New Account Hierarchy Setup</title>

    <para>With the support of this wizard, you can create a complete chart of accounts for your daily work. A
      new, empty &app; file is created and the wizard <guilabel>New Account Hierarchy
      Setup</guilabel> is started.
    </para>

    <tip>
      <para>You can run the wizard again later. To do this, go to<menuchoice>
          <shortcut>
          <keycombo>
            <keycap>Ctrl</keycap><keycap>N</keycap>
          </keycombo>
          </shortcut> <guimenu><accel>F</accel>ile</guimenu> <guimenuitem>New <accel>F</accel>ile
          </guimenuitem>
        </menuchoice>in the menu if you want to create a new file. If you want to run the wizard inside the open file,
        use<menuchoice>
          <guimenu><accel>A</accel>ction</guimenu><guimenuitem>New Account
          <accel>H</accel>ierarchy… </guimenuitem>
        </menuchoice>instead when the account hierarchy tab is displayed.
      </para>
    </tip>

    <figure pgwide="1">
      <title>The wizard <quote>New Account Hierarchy Setup</quote></title><screenshot>
        <mediaobject>
          <imageobject role="html">
            <imagedata fileref="figures/AccountTreeCreate.png" srccredit="Christian Wehling" width="&img-w;" />
          </imageobject>

          <imageobject role="fo">
            <imagedata fileref="figures/AccountTreeCreate.png" srccredit="Christian Wehling" />
          </imageobject>
        </mediaobject>
      </screenshot>
    </figure>

    <variablelist>
      <title>Dialogue guidance</title>

      <para>The buttons in the wizard will only be visible or activated after you have made the necessary
        settings in the dialog step.
      </para>

      <varlistentry>
        <term><guibutton><accel>C</accel>ancel</guibutton></term>

        <listitem>
          <para>Ends the operation and cancels the creation of a new account hierarchy.
          </para>

          <warning>
            <para>If you click on this button, all changes that you have made up to this point will be lost.
            </para>
          </warning>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><guibutton><accel>B</accel>ack</guibutton></term>

        <listitem>
          <para>Returns you to the previous display so that you can change your entries again.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><guibutton><accel>N</accel>ext</guibutton></term>

        <listitem>
          <para>Press the key to confirm your entries and move on to the next screen.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><guibutton><accel>F</accel>inish</guibutton></term>

        <listitem>
          <para>Skips the next step <guilabel>Setup selected accounts</guilabel> and brings you you directly to the
            last step of the wizard.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><guibutton><accel>A</accel>pply</guibutton></term>

        <listitem>
          <para>This completes your entries and the new account structure is created in the &app;file.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>

    <procedure>
      <title>Description of the steps in the wizard</title>

      <step>
        <title><guilabel>New Account Hierarchy Setup</guilabel></title>

        <para>The wizard starts with a short introduction page.
        </para>
      </step>

      <step>
        <title><guilabel>New Book Options</guilabel></title>

        <para><note>
            <para>This dialog step is <emphasis>not</emphasis> displayed if you start the wizard in the account view
              of an existing &app;file with the menu item<menuchoice>
                <guimenu><accel>A</accel>ction</guimenu><guimenuitem>New
                Account<accel>H</accel>ierach… </guimenuitem>
              </menuchoice>.
            </para>
          </note>In this step, you can make general settings for the &app;, which will be are saved in the file and
          thus apply to all users. The dialog is described in detail in
          <xref linkend="book-options" />.
        </para>
      </step>

      <step>
        <title><guilabel>Choose Currency</guilabel></title>

        <para>In the next screen you can select the currency you want to use as default for the book-specific base
          currency.
        </para>

        <para>By default, the dropdown list is set to the currency specified in the
          <xref linkend="prefs-accounts"/> in the <guilabel>&appname; settings</guilabel>. You can
          reach this dialog in the menu<menuchoice>
            <guimenu><accel>E</accel>dit</guimenu><guimenuitem>Pr<accel>e</accel>ferences</guimenuitem>
          </menuchoice>. If you want to use a different default currency for your accounts instead, select it from the
          list.
        </para>
      </step>

      <step>
        <title><guilabel>Choose accounts to create</guilabel></title>

        <para>This step is used to create the account structure. You will see a screen divided into three parts.
        </para>

        <substeps>
          <step>
            <title><guilabel>Categories</guilabel></title>

            <para>In the upper left part, there are two drop-down boxes that allow you to filter the language- and
              region-specific categories. Select from the list box below the selection boxes, the
              types of accounts you want to use for your work in &app;. This way you can select many
              of the categories from a locale for your accounts. If you want to mix accounts from
              different locales you have to go through the wizard once for each scheme.
            </para>
          </step>

          <step>
            <title><guibutton>Select all</guibutton></title>

            <para>The button allows you to select all account categories.
            </para>
          </step>

          <step>
            <title><guibutton>Clear all</guibutton></title>

            <para>Use this button to deselect all the selected categories.
            </para>
          </step>

          <step>
            <title><guilabel>Category Description</guilabel></title>

            <para>In the lower left area there is a field that displays a detailed description of the currently
              selected category. Here the creators of the region-specific modules provide detailed
              information on the individual modules.
            </para>
          </step>

          <step>
            <title><guilabel>Accounts in …</guilabel></title>

            <para>On the right side there is a preview of the accounts that correspond to the category highlighted on
              the left.
            </para>
          </step>
        </substeps>

        <tip>
          <para>In this step the wizard offers you a shortcut. The button
            <guibutton><accel>F</accel>inish</guibutton> takes you directly to the last step.
          </para>
        </tip>
      </step>

      <step>
        <title><guilabel>Setup selected accounts</guilabel></title>

        <para>Continuing with the step where for each individual account you can, if needed, adjust the account
          name enter an opening balance or define whether an account should act as a placeholder.
        </para>

        <note id="placeholder-acct">
          <para><emphasis>Placeholder accounts</emphasis> form a kind of group heading and are used to create a
            hierarchy of accounts. The account book of accounts marked in this way is read-only.
          </para>
        </note>

        <note>
          <para>Since the opening balance account is an equity account, the entry for this type of account is is
            prevented and set to <guilabel>Null</guilabel> by &app;. The opening balance is entered
            into the account book as a normal entry and you can add to it, correct it or delete it.
          </para>
        </note>

        <para>Follow the instructions on the display to select an account and enter an opening balance. A single
          click is used to highlight an account.
        </para>

        <variablelist>
          <title>The table column headers</title>

          <para>You can change some entries for the accounts by selecting the corresponding entry in the column and
            then clicking in the cell you want to edit.
          </para>

          <varlistentry>
            <term><guilabel>Account Name</guilabel></term>

            <listitem>
              <para>The first column contains the names for the accounts. You can change the account name according to
                your needs.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term><guilabel>Type</guilabel></term>

            <listitem>
              <para>The entries in this column are for your information and cannot be changed.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term><guilabel>Placeholder</guilabel></term>

            <listitem>
              <para>The third column contains a checkbox that allows you to specify whether this account should be a
                placeholder account. This gives you the possibility to create a hierarchical
                structuring of your accounts.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term><guilabel>Opening Balance</guilabel></term>

            <listitem>
              <para>In this field of the fourth column, you can enter an opening balance, if necessary, by entering it
                in the cell. Furthermore, a note is entered here by &app;, whether this account
                already exists in an existing account structure and therefore will not be created.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>Use Existing</term>

            <listitem>
              <para><note>
                  <para>This column is displayed only if you want to add more accounts to an existing account structure.
                  </para>
                </note>The last column informs you whether an account with this name already exists in your structure or
                not.
              </para>
            </listitem>
          </varlistentry>
        </variablelist>
      </step>

      <step>
        <para>The final step <guilabel>Finish Account Setup</guilabel> is the last screen and gives you a final
          overview of the three choices to complete the Wizard to finish.
        </para>
      </step>
    </procedure>

    <para>You now have a structure of accounts in your &app; accounts overview.
    </para>
  </sect1>

  <sect1 id="chart-edit">
    <title>Editing a Chart of Accounts</title>

    <para>If you want to modify your current chart of accounts you can do it with the menu item<menuchoice>
        <shortcut>
        <keycombo>
          <keycap>Ctrl</keycap><keycap>E</keycap>
        </keycombo>
        </shortcut> <guimenu><accel>E</accel>dit</guimenu> <guimenuitem>Edit
        <accel>A</accel>ccount</guimenuitem>
      </menuchoice> or you press the <guibutton>Edit</guibutton> button in the
      <guilabel>Toolbar</guilabel> of the <quote>Account Tree</quote> window.
    </para>

    <para>The <guilabel>Edit account</guilabel> dialogue opens in the lower area of which the <guilabel>Parent
      Account</guilabel> pane allows you to move an account to any position in the account
      hierarchy.
    </para>

    <para>To move the selected account to a different parent account just select the account in the
      <guilabel>Parent Account</guilabel> pane. If <guilabel>New top level account</guilabel> is
      selected then the account will be moved to the top level.
    </para>

    <tip>
      <para>It is recommended that accounts are generally kept as sub-accounts of a parent account with a
        related account type. This ensures that the structure of the account overview remains
        consistent. Details of the specific account types are described in the section
        <xref linkend="acct-types" />.
      </para>
    </tip>

    <caution>
      <para>At least if you plan to create official documents such as tax returns from your data, you should
        follow the usual rules of your legislation. If in doubt, ask your tax advisor.
      </para>
    </caution>
<!-- Translators: For your country list search https://github.com/Gnucash/gnucash/tree/maint/data/accounts for the usual language+country codes -->
    <tip>
      <para>For some countries like GB, MX, DE users have contributed templates, which you can select in the
        third step of the of the wizard to <xref linkend="acct-hierarchy" /> select them. If you
        also a missing chart of accounts or improvements to an existing one, please read
        <ulink url="&url-wiki;Account_Hierarchy_Template"/>.
      </para>
    </tip>
  </sect1>

  <sect1 id="acct-create-or-edit">
    <title>Creating or editing an Account</title>

    <para>Once you have created a chart of accounts for your accounts, over time you will find that you need
      to expand it or adjust details. This section describes how to create a new account or edit the
      properties for an existing account.
    </para>

    <para>To create a new account go to<menuchoice>
        <guimenu><accel>A</accel>ctions</guimenu><guimenuitem>New Account...</guimenuitem>
      </menuchoice>or click the <guibutton>New</guibutton> <emphasis>Toolbar</emphasis> icon in the Account Tree
      Window. The <guilabel>New Account</guilabel> dialog will be opened.
    </para>

    <para>If you want to edit an existing account instead, select<menuchoice>
        <shortcut>
        <keycombo>
          <keycap>Ctrl</keycap><keycap>E</keycap>
        </keycombo>
        </shortcut> <guimenu><accel>E</accel>dit</guimenu> <guimenuitem>Edit
        <accel>A</accel>ccount</guimenuitem>
      </menuchoice>or click the <guibutton>Edit</guibutton> button in the <emphasis>Toolbar</emphasis> in the
      <quote>Account Tree</quote> window, which opens the <guilabel>Edit Account</guilabel>
      dialogue.
    </para>

    <para>Since there is little difference between the possibilities of the two dialogues, they are described
      together below.
    </para>

    <para>Creating a New Account involves planning in advance several details that are used in the
      <guilabel>New Account</guilabel> dialog.
    </para>

    <itemizedlist>
      <listitem>
        <para>What type of account is needed?
        </para>
      </listitem>

      <listitem>
        <para>Where it fits in the structure of the Chart of Accounts?
        </para>
      </listitem>

      <listitem>
        <para>If there is an Opening Balance or should this account contain opening balance transactions?
        </para>
      </listitem>

      <listitem>
        <para>If there is a Commodity (security/currency) needed for the account. Then you need per currency
          perhaps also an additional account for the transaction of the opening balance.
        </para>
      </listitem>
    </itemizedlist>

    <sect2 id="acct-gen-info">
      <title>General Information Tab</title>

      <para>The <guilabel>General</guilabel> tab is used to access the basic information about the account. It
        provides a way of connecting the account to stock information if it is one of the currency,
        mutual fund or stock account types. It can also be flagged as a
        <link linkend="acct-placeholder">Placeholder</link> account. It displays if it is flagged as
        a <guilabel>Tax Related</guilabel> account (which is set through the<menuchoice>
          <guimenu><accel>E</accel>dit</guimenu><guimenuitem>Ta<accel>x</accel> Report
          Options</guimenuitem>
        </menuchoice>dialog).
      </para>

      <figure pgwide="1">
        <title>Create or edit new account, General Information Tab</title><screenshot>
          <mediaobject>
            <imageobject>
              <imagedata fileref="figures/AcctCreate_General.png" 
                         srccredit="Christian Wehling"></imagedata>
            </imageobject>
          </mediaobject>
        </screenshot>
      </figure>

      <para>There are seven fields in the <guilabel>Identification</guilabel> section of this tab.
      </para>

      <variablelist>
        <varlistentry>
          <term><guilabel>Account Name</guilabel></term>

          <listitem>
            <para>The name for the account such as First Bank Checking.
            </para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><guilabel>Account Code</guilabel></term>

          <listitem>
            <para>The optional number code as described in <xref linkend="accts-code" />.
            </para>

            <note>
              <para>Similar to the account number, the type, which is internally called namespace, offers a possibility
                to sort one's investments objectively. investments objectively. Basically, it is
                advisable to group them according to risk. For example, the first level can be the
                type of the security and as optional 2nd level the nominal currency.<screen>:
|
+--Bond
|   |--CHF
|   |--EUR
+--Share
|   |--CAD
|   |--CHF
|   |--EUR
|
:</screen>
              </para>
            </note>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><guilabel>Description</guilabel></term>

          <listitem>
            <para>Optional description for the account.
            </para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><guilabel>Security/Currency</guilabel></term>

          <listitem>
            <para>This field displays the currency used in this account as information. For accounts other than
              <emphasis>Stock</emphasis> or <emphasis>Mutual Fund</emphasis> this should be the
              default currency, USD (US Dollar) or your local currency symbol. You have this in the
              third step <emphasis>Select currency</emphasis> of the wizard.
              <xref linkend="acct-hierarchy" />. If instead <guilabel>Stock</guilabel> or
              <guilabel>Mutual Fund</guilabel> are managed in the account, then the assigned
              security is displayed here.
            </para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Select…</term>

          <listitem>
            <para>If you click this button, another dialog opens where you can select a currency or a security for this account.
              <note>
        <para>For Accounts containing a <guilabel>Stock</guilabel> or <guilabel>Mutual funds</guilabel> 
          with the opening dialog <guilabel>Select Security</guilabel> a new security can 
          also be created. The options are described in detail in the Security Editor <xref linkend="tool-security-edit" />
        </para>
          </note>
            </para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><guilabel>Smallest Fraction</guilabel></term>

          <listitem>
            <para>The smallest division that can be traded/transferred. For shares, these are usually whole pieces,
              but for currencies and funds often hundredths or thousandths.
            </para>

            <tip>
              <para>Based on &app;s internal representation as rational numbers -to minimize rounding errors-. and
                today's 64-bit processor architecture, a maximum of 9 decimal places is supported.
                If your new cryptocurrency ZZZ now has 12 decimal places, it is recommended to
                record it in thousandths for correct representation and denote it with mZZZ.
              </para>
            </tip>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><guilabel>Account Color</guilabel></term>

          <listitem>
            <para>The color to assign to the account&rsquo;s register tab. Click on the color button to open the
              <guilabel>Pick a Color</guilabel> screen. To reset the account color click the
              <guibutton>Default</guibutton> button.
            </para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><guilabel>Notes</guilabel></term>

          <listitem>
            <para>This is a free form text box that can be used for any additional notes about the account.
            </para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><guilabel>Tax related</guilabel></term>

          <listitem>
            <para><guilabel>Tax related</guilabel> means that an account has been flagged to be included in the Tax
              Schedule Report. This flag is only displayed on the <guilabel>Edit Account</guilabel>
              dialog and is set in the <guilabel>Income Tax Information</guilabel> dialog (<menuchoice>
                <guimenu><accel>E</accel>dit</guimenu><guimenuitem>Ta<accel>x</accel> Report
                Options</guimenuitem>
              </menuchoice>). For related reports see the examples like<menuchoice>
                <guimenu><accel>R</accel>eports</guimenu><guimenuitem><accel>T</accel>ax Report
                &amp; XML Export</guimenuitem>
              </menuchoice>in (<xref linkend="report-regional"/>).
            </para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><guilabel>Hidden</guilabel></term>

          <listitem>
            <para>This check box hides an account (and all sub-accounts) in the account overview. To reset this
              option, you will first need to open the<menuchoice>
                <guimenu><accel>V</accel>iew</guimenu><guimenuitem><accel>F</accel>ilter
                By…</guimenuitem>
              </menuchoice>dialog for the account tree and check the <guilabel>Show hidden accounts</guilabel> option. Doing so
              will allow you to select the account and reopen this dialog.<note id="accts-hidden">
                <para>Hidden accounts still appear in the pop-up account list in a register. To remove an account from
                  this pop-up account list as well, check the <guilabel>Placeholder</guilabel> check
                  box.
                </para>
              </note>
            </para>
          </listitem>
        </varlistentry>

        <varlistentry id="acct-placeholder" xreflabel="Placeholder">
          <term><guilabel>Placeholder</guilabel></term>

          <listitem>
            <para>This setting sets the status for an account to <quote>write-protected</quote> for an account and
              prevents business transactions from being added to this account. On the one hand, the
              account can be used to group further subordinate accounts and on the other hand
              accounts and on the other hand to prevent accidental changes to a
              <quote>suspended</quote> account. Usually the account should then have a balance of 0.<tip>
                <para>If an account contains further subaccounts, then it is recommended to mark this as a
                  <guilabel>Placeholder</guilabel>. This has the advantage that when the account
                  selection list when entering transactions, and the list becomes significantly
                  shorter.
                </para>
              </tip><note>
                <para>If you declare an account as <guilabel>Placeholder</guilabel>, this account will also be hidden in
                  the Popup account list of a tab. Subaccounts of the placeholder account, however
                  will still be displayed in the popup window.
                </para>
              </note>
            </para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><guilabel>Auto interest transfer</guilabel></term>

          <listitem>
            <para>By selecting the <guilabel>Auto interest transfer</guilabel> check box, it is specified, that before
              balancing an account with credit or debit interest, the system will ask if a transfer
              is created for the interest payment. Currently, this is only possible for accounts of
              type <emphasis>Asset</emphasis>, <emphasis>Bank</emphasis>, <emphasis>Mutual
              fond</emphasis>, <emphasis>Accounts Receivables</emphasis>,
              <emphasis>Liability</emphasis>, <emphasis>Accounts Payables</emphasis> and
              <emphasis>Credit Card</emphasis>.
            </para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><guilabel>Opening balance</guilabel></term>

          <listitem>
            <para>If this account should contain the opening balance entries, then the check box <guilabel>Opening
              balance</guilabel> must be selected. Only one account per security/currency can
              contain the opening balance transactions. Only accounts of the type
              <emphasis>Equity</emphasis> can record the transactions of the opening balance.
            </para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><guilabel>Account Types</guilabel></term>

          <listitem>
            <para>Use an account type for your new account according to the descriptions in
              <xref linkend="acct-types" />.
            </para>

            <tip>
              <para>Setting up accounts for securities/currencies is a good time to set up income accounts to tracking
                dividends, capital gains from long and short term investments, and expense accounts
                to record commissions and losses (if you record losses as expenses).
              </para>
            </tip>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><guilabel>Parent Account</guilabel></term>

          <listitem>
            <para>In this pane you set the <emphasis>Parent Account</emphasis> for the new account.<note>
                <para>The available choices in the <guilabel>Account Type</guilabel> pane depends on the selected account
                  in the <guilabel>Parent Account</guilabel> pane. For example if the
                  <guilabel>Parent Account</guilabel> is <emphasis>Assets</emphasis> you will see
                  only <emphasis>Equity</emphasis> in the <guilabel>Account Type</guilabel> pane,
                  see <xref linkend="acct-types" />). This is to help maintain a proper account
                  structure for the Chart of Accounts.
                </para>
              </note>To create a new account tree select <guilabel>New top level account</guilabel>.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect2>

    <sect2 id="acct-open-balance">
      <title>Opening Balance tab</title>

      <para>The <guilabel>Opening Balance</guilabel> tab is visible only when creating a new account, and is
        disabled for <guilabel>Stock</guilabel> and <guilabel>Mutual Fund</guilabel> accounts. It is
        used to record the beginning balance for an account. This allows it to be used for two
        different scenarios. If using &app; for the first time to record transactions, it can be
        used as a beginning balance. If the accounts in use are closed at the end of a period and
        new accounts are created, it is used to close and carry balances forward.
      </para>

      <note>
        <para>If you want to <emphasis>edit</emphasis> the properties for an account that is in the last level of the
          hierarchy and there are already transactions in the account, then the
          tab <guilabel>Opening Balance</guilabel> <emphasis>not</emphasis> is displayed.
        </para>
      </note>

      <note>
        <para>The opening balance and the transfer account you enter here will be entered in the newly created account
          as a <emphasis>normal</emphasis> transaction in the account book. This transaction
          you can, within the legal framework, also correct and add forgotten ones.
        </para>
      </note>

      <figure pgwide="1">
        <title>Create new account, Opening Balance Tab</title><screenshot>
          <mediaobject>
            <imageobject>
              <imagedata fileref="figures/AcctCreate_OpenBal.png" 
                         srccredit="Christian Wehling"></imagedata>
            </imageobject>
          </mediaobject>
        </screenshot>
      </figure>

      <para>If you are using your &app;-file continuously over a long period of time, you can use
        the <xref linkend="tool-close-book" /> (<menuchoice>
          <guimenu><accel>T</accel>ool</guimenu><guimenuitem><accel>C</accel>lose Book</guimenuitem>
        </menuchoice>) automatically calculate the opening balance. Here, the closing balance of the previous
        Period is the opening balance of the new period.
      </para>

      <para>In the latter case, opening balances must be created by hand. Please see
        <ulink url="&url-docs-build-de;guide/invest-buy-stock1.html">&app; Tutorial and Concepts
        Guide</ulink> for instructions if you need to create an opening balance in a
        <guilabel>Stock</guilabel> or <guilabel>Mutual Fund</guilabel> account.
      </para>

      <variablelist>
        <title>Balance Information</title>

        <varlistentry>
          <term><guilabel>Balance</guilabel></term>

          <listitem>
            <para>The balance to start the account with.
            </para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><guilabel>Date</guilabel></term>

          <listitem>
            <para>The date the opening balance should be recorded.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>

      <variablelist>
        <title>Initial Balance Transfer</title>

        <varlistentry>
          <term><guilabel>Use equity Opening Balances account</guilabel></term>

          <listitem>
            <para>This transfers the opening balance for the account from a standard <emphasis>Equity</emphasis> account called 
              <quote>Opening Balances</quote>.
            </para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><guilabel>Select Transfer Account</guilabel></term>

          <listitem>
            <para>If you would like to use a different <guilabel>Transfer Account</guilabel> for recording the
              <quote>Opening Balance</quote>, you can use this option item. This enables the pane
              below and you can select the account to use for opening balances from the list of
              accounts.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect2>

    <sect2 id="accts-online-quotes">
<!-- FIXME: move this section to section "tool-security-editor" -->
      <title>Steps to enable Online Quotes updating</title>

      <orderedlist>
        <listitem>
          <para>&app; uses an external tool to retrieve online courses. This tool is a &app-perl; module called
            &app-fq; and must be installed independently of &app; on your computer.
          </para>

          <tip>
            <para>The installation of &app-fq; is described under <xref linkend="finance-quote" />.
            </para>
          </tip>
        </listitem>
      </orderedlist>
    </sect2>
  </sect1>

  <sect1 id="chart-renumber">
    <title>Renumbering Subaccounts</title>

    <para>Use<menuchoice>
        <guimenu><accel>E</accel>dit</guimenu><guimenuitem><accel>R</accel>enumber
        Subaccounts…</guimenuitem>
      </menuchoice>to rewrite the account codes for all children of the current account. For example, you have the
      following account structure:
    </para>

    <table frame="topbot" id="table-renumber1">
      <title>Starting account numbers.</title>

      <tgroup cols="2">
        <thead>
          <row>
            <entry>
              <para>Code
              </para>
            </entry>

            <entry>
              <para>Name
              </para>
            </entry>
          </row>
        </thead>

        <tbody>
          <row>
            <entry>
              <para>10
              </para>
            </entry>

            <entry>
              <para>Colors
              </para>
            </entry>
          </row>

          <row>
            <entry>
              <para>10-1
              </para>
            </entry>

            <entry>
              <para>Red
              </para>
            </entry>
          </row>

          <row>
            <entry>
              <para>10-2
              </para>
            </entry>

            <entry>
              <para>Orange
              </para>
            </entry>
          </row>

          <row>
            <entry>
              <para>10-3
              </para>
            </entry>

            <entry>
              <para>Yellow.
              </para>
            </entry>
          </row>

          <row>
            <entry>
              <para>10-4
              </para>
            </entry>

            <entry>
              <para>Blue
              </para>
            </entry>
          </row>

          <row>
            <entry>
              <para>10-5
              </para>
            </entry>

            <entry>
              <para>Violet
              </para>
            </entry>
          </row>
        </tbody>
      </tgroup>
    </table>

    <para>You now need to add the <quote>Green</quote> account, but you want it to sort between the Yellow and
      Blue accounts. Instead of having to manually renumber all the accounts starting with Blue, you
      can use the <guilabel>Renumber Subaccounts…</guilabel> command on the
      <emphasis>Colors</emphasis> account. In the pop-up dialog the prefix value should default to
      <quote>10</quote>, the account code for the colors account. If you set an interval value of
      <quote>5</quote> and click <guilabel>Renumber</guilabel> you will end up with the following
      account structure:
    </para>

    <table frame="topbot" id="table-renumber2">
      <title>Renumbered account numbers</title>

      <tgroup cols="2">
        <thead>
          <row>
            <entry>
              <para>Code
              </para>
            </entry>

            <entry>
              <para>Name
              </para>
            </entry>
          </row>
        </thead>

        <tbody>
          <row>
            <entry>
              <para>10
              </para>
            </entry>

            <entry>
              <para>Colors
              </para>
            </entry>
          </row>

          <row>
            <entry>
              <para>10-05
              </para>
            </entry>

            <entry>
              <para>Red
              </para>
            </entry>
          </row>

          <row>
            <entry>
              <para>10-10
              </para>
            </entry>

            <entry>
              <para>Orange
              </para>
            </entry>
          </row>

          <row>
            <entry>
              <para>10-15
              </para>
            </entry>

            <entry>
              <para>Yellow.
              </para>
            </entry>
          </row>

          <row>
            <entry>
              <para>10-20
              </para>
            </entry>

            <entry>
              <para>Blue
              </para>
            </entry>
          </row>

          <row>
            <entry>
              <para>10-25
              </para>
            </entry>

            <entry>
              <para>Violet
              </para>
            </entry>
          </row>
        </tbody>
      </tgroup>
    </table>

    <para>Now you have room in the account code numbering space to add the Green account with an account code
      to force the proper ordering.
    </para>

    <table frame="topbot" id="table-renumber3">
      <title>Final account numbers.</title>

      <tgroup cols="2">
        <thead>
          <row>
            <entry>
              <para>Code
              </para>
            </entry>

            <entry>
              <para>Name
              </para>
            </entry>
          </row>
        </thead>

        <tbody>
          <row>
            <entry>
              <para>10
              </para>
            </entry>

            <entry>
              <para>Colors
              </para>
            </entry>
          </row>

          <row>
            <entry>
              <para>10-05
              </para>
            </entry>

            <entry>
              <para>Red
              </para>
            </entry>
          </row>

          <row>
            <entry>
              <para>10-10
              </para>
            </entry>

            <entry>
              <para>Orange
              </para>
            </entry>
          </row>

          <row>
            <entry>
              <para>10-15
              </para>
            </entry>

            <entry>
              <para>Yellow.
              </para>
            </entry>
          </row>

          <row>
            <entry>
              <para>10-18
              </para>
            </entry>

            <entry>
              <para>Green
              </para>
            </entry>
          </row>

          <row>
            <entry>
              <para>10-20
              </para>
            </entry>

            <entry>
              <para>Blue
              </para>
            </entry>
          </row>

          <row>
            <entry>
              <para>10-25
              </para>
            </entry>

            <entry>
              <para>Violet
              </para>
            </entry>
          </row>
        </tbody>
      </tgroup>
    </table>
  </sect1>

  <sect1 id="acct-cascade">
    <title>Cascade Account Properties</title>

    <para>With the menu item<menuchoice>
        <guimenu><accel>E</accel>dit</guimenu> <guimenuitem><accel>C</accel>ascade Account
        Properties...</guimenuitem>
      </menuchoice>in the account tree view, you have the possibility to set some properties on the currently
      selected account and its sub-accounts.
    </para>

    <figure pgwide="1">
      <title>Cascade Account Values</title><screenshot>
        <mediaobject>
          <imageobject>
            <imagedata fileref="figures/AccountTreeCascade.png" 
                         srccredit="Christian Wehling"></imagedata>
          </imageobject>
        </mediaobject>
      </screenshot>
    </figure>

    <para>The dialog offers you the following options:<variablelist>
        <varlistentry>
          <term>Enable Cascading Account Color</term>

          <listitem>
            <variablelist>
              <varlistentry>
                <term>The account color will be set for the selected account and for all sub-accounts.</term>

                <listitem>
                  <para>Assigning an account color can help you to make the account hierarchy visually clearer.
                    Press the <guilabel>color</guilabel> button to open
                    a color palette and select a color. The button
                    <guilabel>Default</guilabel> resets a previous color selection back to the
                    default color <guilabel>gray</guilabel>.
                  </para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term>Replace any exsting account colors</term>

                <listitem>
                  <para>If this check box is selected, then an existing color of the account will be overwritten,
                    otherwise the account will keep the existing color.
                  </para>
                </listitem>
              </varlistentry>
            </variablelist>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Enable Cascading Account Placeholder</term>

          <listitem>
            <variablelist>
              <varlistentry>
                <term>Platzhalter</term>

                <listitem>
                  <para>The placeholder value is set for the selected account and in all its sub-accounts.
                  </para>
                </listitem>
              </varlistentry>
            </variablelist>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Enable Cascading Account Hidden</term>

          <listitem>
            <variablelist>
              <varlistentry>
                <term>Versteckt</term>

                <listitem>
                  <para>The hidden property is enabled for the account and for all associated sub-accounts.
                  </para>
                </listitem>
              </varlistentry>
            </variablelist>
          </listitem>
        </varlistentry>
      </variablelist>
    </para>

    <note>
      <para>The cascaded values (color, placeholder and hidden) are entered for each account.
        If you subsequently modify the account hierarchy by moving an account
        (<xref linkend="chart-edit" />), then if necessary these settings can be adjusted,
        as described in <xref linkend="acct-create-or-edit" />.
      </para>
    </note>
  </sect1>

  <sect1 id="acct-delete">
    <title>Deleting an Account</title>

    <para>Deleting an Account means removing all transaction information and information about this account
      from the file. This cannot be undone. You will be prompted to verify that you wish to remove
      the account.
    </para>

    <para>If you want to delete an account, you can do it with<menuchoice>
        <shortcut> <keycap>Del</keycap> </shortcut> <guimenu><accel>E</accel>dit</guimenu>
        <guimenuitem><accel>D</accel>elete Account…</guimenuitem>
      </menuchoice>or press the button <guibutton>Delete</guibutton> in the <guilabel>Toolbar</guilabel> of the window
      <quote>Account</quote>.
    </para>

    <tip>
      <para>It is recommended that you save the &app;-file before deleting an account. If you have accidentally
        deleted an account, you can use the<menuchoice>
          <guimenu><accel>F</accel>ile</guimenu> <guimenuitem>Re<accel>v</accel>ert</guimenuitem>
        </menuchoice>command to get out of the threat. &app; then offers you in a dialog whether you want to discard the
        changes and reload the file.
      </para>
    </tip>

    <para>If you remove an account that does not contain any sub-accounts or transactions, the deletion will
      be executed immediately. But if you want to delete an account that contains <emphasis>several</emphasis>.
      sub-accounts, then you will be alerted with a warning message.
    </para>

    <figure>
      <title>Warning message when deleting accounts including sub-accounts</title><screenshot>
        <mediaobject>
          <imageobject>
            <imagedata fileref="figures/chart_acct_delete_msg.png" 
                         srccredit="Christian Wehling"></imagedata>
          </imageobject>
        </mediaobject>
      </screenshot>
    </figure>

    <para>If instead the account contains a sub-account or transaction information then the dialog
      <guilabel>Delete account</guilabel> will open.  This dialog contains three areas with
      options that will assist you in the procedure for deleting the data.
    </para>

    <table id="Account-Delete-Dialog">
      <title>Der <quote>Konto löschen</quote> Dialog</title>

      <tgroup align="left" cols="3">
        <colspec colwidth="0.33*"/>

        <colspec colwidth="0.33*"/>

        <colspec colwidth="0.33*"/>

        <tbody>
          <row valign="bottom">
            <entry>
              <para><figure>
                  <title>Sub-accounts</title><screenshot>
                    <mediaobject>
                      <imageobject>
                        <imagedata fileref="figures/chart_acct_delete_01.png" 
                         srccredit="Christian Wehling" width="100%"></imagedata>
                      </imageobject>
                    </mediaobject>
                  </screenshot>
                </figure>
              </para>
            </entry>

            <entry>
              <para><figure>
                  <title>Transactions</title><screenshot>
                    <mediaobject>
                      <imageobject>
                        <imagedata fileref="figures/chart_acct_delete_02.png" 
                         srccredit="Christian Wehling" width="100%"></imagedata>
                      </imageobject>
                    </mediaobject>
                  </screenshot>
                </figure>
              </para>
            </entry>

            <entry>
              <para><figure>
                  <title>Sub-account Transactions</title><screenshot>
                    <mediaobject>
                      <imageobject>
                        <imagedata fileref="figures/chart_acct_delete_03.png" 
                         srccredit="Christian Wehling" width="100%"></imagedata>
                      </imageobject>
                    </mediaobject>
                  </screenshot>
                </figure>
              </para>
            </entry>
          </row>
        </tbody>
      </tgroup>
    </table>

    <variablelist>
      <varlistentry>
        <term><guilabel>Sub-accounts</guilabel></term>

        <listitem>
          <para>A sub-account is associated with the selected account.
          </para>

          <variablelist>
            <varlistentry>
              <term><guilabel>Delete the subaccount</guilabel></term>

              <listitem>
                <para>If you select this entry and the sub-account still contains transactions, the third entry
                  <guilabel>Sub-account Transactions</guilabel> will be active in the dialog. Thus
                  you have the possibility to move the transactions of the sub-account before the
                  the sub-account is removed.
                </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><guilabel>Move to</guilabel></term>

              <listitem>
                <para>In the selection box you can define to which account the subaccounts should be assigned. Only
                  accounts of the <emphasis>same</emphasis> account type are available.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><guilabel>Transactions</guilabel></term>

        <listitem>
          <para>The account to be deleted still contains transactions.
          </para>

          <variablelist>
            <varlistentry>
              <term><guilabel>Delete all transactions</guilabel></term>

              <listitem>
                <para>All transactions will be deleted.
                </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><guilabel>Move to</guilabel></term>

              <listitem>
                <para>In the selection box it is possible to define to which account the transactions will be moved. The
                  transactions can only be moved to the <emphasis>Orphan</emphasis> account with the
                  same currency or in accounts with the same account type.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><guilabel>Sub-account Transactions</guilabel></term>

        <listitem>
          <para>The subaccount you want to delete still contains transactions.
          </para>

          <variablelist>
            <varlistentry>
              <term><guilabel>Delete all transactions</guilabel></term>

              <listitem>
                <para>All transactions in the sub-account will be deleted.
                </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><guilabel>Move to</guilabel></term>

              <listitem>
                <para>In the selection box it is possible to define to which account the transactions will be moved.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
    </variablelist>

    <tip>
      <para>If the account to be deleted contains several sub-accounts, you will be notified by a message and
        you will be asked to delete this account structure manually.
      </para>
    </tip>

    <note>
      <para>A side effect of removing an account that contains transactions is that you will end up with
        unbalanced accounts. This will be indicated in the account by a gray check-box next to the
        debit and credit amounts. You can automatically repair these unbalanced accounts by using
        the<menuchoice>
          <guimenu><accel>A</accel>ctions</guimenu><guimenuitem><accel>C</accel>heck &amp;
          Repair</guimenuitem>
        </menuchoice>menu. This will automatically assign the unbalanced amounts to a new account named
        <emphasis>Imbalance</emphasis>.
      </para>
    </note>
  </sect1>

  <sect1 id="acct-reconcile">
    <title>Reconciling an Account to a Statement</title>

    <para>Reconciliation of Accounts in &app; with statements from a bank or other institution is a way of
      double checking the accuracy of your (and your banks) transactions and the balance of your
      accounts. It also is useful to track uncleared checks and other outstanding transactions.
    </para>

    <para>The reconciling process in &app; involves two dialogs: the <xref linkend="tool-reconcile" /> dialog
      followed by the <xref linkend="rec-win" /> window. They provide access to various &app;
      functions to make it easy to enter and update account information during the reconciliation.
    </para>

    <note>
      <para>If you are reconciling an Liability Account of type <guilabel>credit card</guilabel> using a credit
        card statement you have the option of using the <guilabel>Transfer Funds</guilabel> dialogue
        that opens automatically and enter a credit card payment. You can change this behaviour in
        the <guilabel>&appname; Preferences</guilabel> from the menu<menuchoice>
          <guimenu><accel>E</accel>dit</guimenu><guimenuitem>Pr<accel>e</accel>ferences</guimenuitem>
        </menuchoice>in the <guilabel>Register</guilabel> tab by activating the checkbox <guilabel>Automatic credit card
        payment</guilabel>. (see <xref linkend="prefs-reg" />)
      </para>
    </note>

    <tip>
      <para>The <guilabel>Reconcile</guilabel> window is accessed from the account tree window or the account register window by
        selecting<menuchoice>
          <guimenu><accel>A</accel>ctions</guimenu><guimenuitem><accel>R</accel>econcile…</guimenuitem>
        </menuchoice> or you use the <guibutton>Reconcile</guibutton> button in the
        <guilabel>Toolbar</guilabel>..
      </para>
    </tip>

    <para>The <emphasis>Summary Bar</emphasis> at the bottom of the Account Register Window indicates the
      amounts of <guilabel>Present</guilabel> (Balance), <guilabel>Future</guilabel> (Balance),
      <guilabel>Cleared</guilabel> (Transactions), <guilabel>Reconciled</guilabel> (Transactions)
      and <guilabel>Projected Minimum</guilabel>. Online account information can be used to mark
      which transactions the bank has processed by changing the <guilabel>R</guilabel>
      (reconciliation status) column in the register from <guilabel>n</guilabel> (new) to
      <guilabel>c</guilabel> (cleared). The bank statement is then used with the
      <guilabel>Reconcile</guilabel> window to reconcile the account which changes the
      <guilabel>R</guilabel> field to <guilabel>y</guilabel> (reconciled).
    </para>

    <sect2 id="tool-reconcile">
      <title>Reconciling Information</title>

      <para>The <guilabel>Reconcile Information</guilabel> dialog is used to indicate the closing
        <guilabel>Statement Date</guilabel> and the <guilabel>Starting Balance</guilabel> (fixed
        from last reconciliation) and <guilabel>Ending Balance</guilabel> from the statement. The
        <guilabel>Include Sub-accounts</guilabel> check-box is used if one or more subaccounts are
        used to track the account you are reconciling. The <guibutton>Enter Interest
        Payment…</guibutton> button (for Active accounts) or <guibutton>Enter Interest
        charge…</guibutton> button (for liabilities accounts) is used to add a transfer to the
        accounts for an interest payment. If selected a dialog will be displayed to add the
        <xref linkend="tool-ent-int" /> to the account.
      </para>

      <note>
        <para>The <guibutton>Enter Interest Payment…</guibutton> button is shown only if you are reconciling an
          account of <emphasis>Bank</emphasis> type. Whereas when matching an account of type
          <emphasis>Liability</emphasis> the button is labeled <guibutton>Enter Interest
          Charge…</guibutton>.
        </para>
      </note>

      <para>When you have entered all relevant data, press <guibutton>Ok</guibutton> to proceed to the
        <xref linkend="rec-win" /> dialog or <guibutton>Cancel</guibutton> to discard the
        reconciliation process.
      </para>

      <sect3 id="tool-ent-int">
        <title>Interest Payment</title>

        <para>You can make an interest payment for an account with the <xref linkend="trans-win-enter" />. Since
          you are entering an interest payment, the section previously described in the
          <emphasis>Transfer Dialog</emphasis> is not relevant for the currency posting.
        </para>

        <note>
          <para>If the payment is for a credit or loan account then usually the payment would be from an
            <emphasis>Expense</emphasis> account. If the payment is for a checking or savings
            account then usually this would be from an <emphasis>Income</emphasis> account.
          </para>
        </note>

          <para>The <guibutton>Show Income/Expense</guibutton> check-box shows or hides the
            <emphasis>Income</emphasis> and <emphasis>Expense</emphasis> accounts.
          </para>

        <para>Select <guibutton>OK</guibutton> to enter the interest transaction (or <guibutton>Cancel</guibutton>
          the payment) and return to the initial reconciliation screen.
        </para>
      </sect3>
    </sect2>

    <sect2 id="rec-win">
      <title>Reconcile</title>

      <note>
        <para>For a detailed description of menu items and buttons on the reconcile window, see
          <xref linkend="gui-reconcile" />.
        </para>
      </note>

      <para>The <guilabel>Reconcile</guilabel> dialog is where the actual process of matching your statement to
        &app; data takes place on a per transaction basis.
      </para>

      <para>The <guilabel>Reconcile</guilabel> dialog is composed of a <emphasis>toolbar</emphasis> and three
        panes; <guilabel>Funds In</guilabel> on the left, <guilabel>Funds out</guilabel> on the
        right and a balance pane.
      </para>

      <note>
        <para>If you enabled the option <guilabel>Use formal accounting labels</guilabel> in the
          <guilabel>Accounts</guilabel> section of the &app; preferences<menuchoice>
            <guimenu><accel>E</accel>dit</guimenu>
            <guimenuitem><accel>P</accel>references</guimenuitem>
          </menuchoice>, you will see <guilabel>Debits</guilabel> and <guilabel>Credits</guilabel> panes instead of
          <guilabel>Funds In</guilabel> and <guilabel>Funds Out</guilabel> panes.
        </para>
      </note>

      <para>The <guilabel>Funds In</guilabel> and <guilabel>Funds Out</guilabel> pane shows all unreconciled
        deposits to the account. Both panes are composed of five columns.
      </para>

      <tip>
        <para>To order the listed transactions with a preferred criteria, click on the relevant column header. To
          reverse the selected order click a second time on the column header.
        </para>
      </tip>

      <variablelist>
        <varlistentry>
          <term><guilabel>Date</guilabel></term>

          <listitem>
            <para>The date of the unreconciled transaction.
            </para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><guilabel>Num</guilabel></term>

          <listitem>
            <para>The number of the unreconciled transaction.
            </para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><guilabel>Description</guilabel></term>

          <listitem>
            <para>The Description of the unreconciled transaction.
            </para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><guilabel>Amount</guilabel></term>

          <listitem>
            <para>The Amount of the unreconciled transaction.
            </para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><guilabel>R</guilabel></term>

          <listitem>
            <para>Shows a check if the transaction will be reconciled when done.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>

      <para>To mark a transaction as reconciled just click on it and a checkmark will appear on the relevant
        <guilabel>R</guilabel> column.
      </para>

      <tip>
        <para>You can check or uncheck the reconcile status of all transactions in either pane by clicking on a
          transaction in the required pane then clicking<keycombo action='simul'>
            <keycap>Ctrl</keycap><keycap>A</keycap><keycap>Space</keycap>
          </keycombo>. This will toggle the reconcile status of all transactions in the pane to either checked or
          unchecked state. This procedure can be repeated to achieve the desired status for the
          transactions in the pane.
        </para>
      </tip>

      <note>
        <para>Under each pane a <guilabel>Total</guilabel> for reconciled transactions is shown.
        </para>
      </note>

      <para>The balance pane shows a summary of the balances used in reconciliation.
      </para>

      <variablelist>
        <varlistentry>
          <term><guilabel>Statement Date</guilabel></term>

          <listitem>
            <para>The date on the statement set on the <xref linkend="tool-reconcile" />.
            </para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><guilabel>Starting Balance</guilabel></term>

          <listitem>
            <para>The balance at the end of the last reconciliation.
            </para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><guilabel>Ending Balance</guilabel></term>

          <listitem>
            <para>The balance entered from the statement.
            </para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><guilabel>Reconciled Balance</guilabel></term>

          <listitem>
            <para>The balance of selected transactions.
            </para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><guilabel>Difference</guilabel></term>

          <listitem>
            <para>The difference between the <guilabel>Reconciled</guilabel> and <guilabel>Ending</guilabel> balances.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>

      <para>The set of unreconciled transactions in the <guilabel>Funds In</guilabel> and <guilabel>Funds
        Out</guilabel> panes can be changed by using the menus and <emphasis>Toolbar</emphasis> to
        access the account and transaction information. You can create a <guibutton>New</guibutton>
        transaction, <guibutton>Edit</guibutton> a selected transaction, add a
        <guilabel>Balance</guilabel> transaction (of the same amount as listed under
        <guilabel>Difference</guilabel> in the balance pane), and delete the selected transaction.
      </para>

      <tip>
        <para>To modify a listed transaction, double click on it.
        </para>
      </tip>

      <para>By pressing the <guilabel>Open</guilabel> icon the register of the account to reconcile will be
        opened.
      </para>

      <para>If you wish to postpone the reconciliation until later use the<menuchoice>
          <shortcut>
          <keycombo>
            <keycap>Ctrl</keycap><keycap>P</keycap>
          </keycombo>
          </shortcut> <guimenu><accel>R</accel>econcile</guimenu><guimenuitem>Postpone</guimenuitem>
        </menuchoice>menu item or pressing the <guibutton>Postpone</guibutton> icon. If you wish to cancel the
        reconciliation use the<menuchoice>
          <guimenu><accel>R</accel>econcile</guimenu><guimenuitem>Cancel</guimenuitem>
        </menuchoice>menu item or press the <guibutton>Cancel</guibutton> icon.
      </para>

      <para>Select each unreconciled transaction matching a transaction on the statement so a green tick appears
        in the <guilabel>R</guilabel> column. The <guilabel>Balance</guilabel> pane changes to
        reflect each selected transaction until the <guilabel>Ending Balance</guilabel>
        <emphasis>equals</emphasis> the <guilabel>Reconciled Balance</guilabel> and the
        <guilabel>Difference</guilabel> is <emphasis>zero</emphasis>. Once this is done select the
        <guibutton>Finish</guibutton> button or<menuchoice>
          <shortcut>
          <keycombo>
            <keycap>Ctrl</keycap><keycap>W</keycap>
          </keycombo>
          </shortcut> <guimenu><accel>R</accel>econcile</guimenu><guimenuitem>Finish</guimenuitem>
        </menuchoice>to finish the reconcile process.
      </para>
    </sect2>
  </sect1>

  <sect1 id="acct-import">
    <title>Importing accounts</title>

    <para>This wizard will help you import accounts from a CSV file. The file must be in the same format as
      the one created by GnuCash during the CSV export as it is a fixed format. If an account is
      created with the <guilabel>full account name</guilabel> does not exist before, it will be
      created, provided that the currency or security in which it will be quoted is already defined
      in the program or in your your &app; file is defined.<note>
        <para>Another way to import accounts is provided by the wizard for the
          <xref linkend="trans-import-qif" />. In the course of this import process, accounts are
          also imported into your &app; data file.
        </para>
      </note><itemizedlist>
        <para>If the account already exists, these four fields will be updated:
        </para>

        <listitem>
          <para>Code
          </para>
        </listitem>

        <listitem>
          <para>Description
          </para>
        </listitem>

        <listitem>
          <para>Notes
          </para>
        </listitem>

        <listitem>
          <para>Color
          </para>
        </listitem>
      </itemizedlist>
    </para>

    <figure pgwide="1">
      <title>Wizard for importing accounts in CSV format</title><screenshot id="accounts-import-csv-wizard">
        <mediaobject>
          <imageobject role="html">
            <imagedata fileref="figures/AccountTree_Import_CSV.png" srccredit="Christian Wehling" width="&img-w;" />
          </imageobject>

          <imageobject role="fo">
            <imagedata fileref="figures/AccountTree_Import_CSV.png" srccredit="Christian Wehling" />
          </imageobject>
        </mediaobject>
      </screenshot>
    </figure>

    <xi:include href="Help_para-assist-intro.xml"/>

    <procedure>
      <title>Steps of the CSV import process</title>

      <para>The function of the controls of each step are described below. They are also displayed as a tooltip
        in the wizard.
      </para>

      <step>
        <title><guilabel>Import Account Assistant</guilabel></title>

        <para>Overview page with a short explanation regarding the requirements for the imported CSV file.
        </para>
      </step>

      <step>
        <title><guilabel>Choose File to Import</guilabel></title>

        <para>Navigate to the file you want to import and select it.
        </para>
      </step>

      <step>
        <title><guilabel>Import Account Preview, first 10 rows only</guilabel></title>

        <para>The <guilabel>Import Account Preview</guilabel> window controls the setting options for importing of
          CSV files and provides a preview of the accounts to be imported.
        </para>

        <figure pgwide="1">
          <title>The CSV Import Preview Area</title><screenshot id="accounts-import-csv-preview">
            <mediaobject>
              <imageobject role="html">
                <imagedata  fileref="figures/AccountTree_Import_CSV_Preview.png" srccredit="Christian Wehling" width="&img-w;" />
              </imageobject>

              <imageobject role="fo">
                <imagedata  fileref="figures/AccountTree_Import_CSV_Preview.png" srccredit="Christian Wehling" />
              </imageobject>

              <caption>
                <para>The CSV import preview window with settings for importing the displayed accounts.
                </para>
              </caption>
            </mediaobject>
          </screenshot>
        </figure>

        <substeps>
          <step>
            <title><guilabel>Number of rows of the header</guilabel></title>

            <para>This field defines the number of header lines in the file. In the preview, according to your input,
              the lines that you have marked as headers and therefore will not be imported.
            </para>
          </step>

          <step>
            <title><guilabel>Select Separator Type</guilabel></title>

            <para>With these radio buttons you can choose with which column separator your data is separated are:
            </para>

            <substeps>
              <step>
                <title><guilabel>Comma Separated (,)</guilabel></title>

                <para>The <keycap>,</keycap> should not be used as a column separator in the German language area unless
                  the dot is used as a decimal separator in the file.
                </para>
              </step>

              <step>
                <title><guilabel>Semicolon Separated (;)</guilabel></title>

                <para>Select a <keycap>;</keycap> to separate the columns when the comma is used as decimal separator.
                </para>
              </step>

              <step>
                <title><guilabel>Colon Separated (:)</guilabel></title>

                <para>Use a <keycap>:</keycap> as column separator. Popularly used by GNU programs.
                </para>
              </step>

              <step>
                <title><guilabel>Custom regular Expression</guilabel></title>

                <para>Selecting this option opens a small input window in which you can enter a <quote>regular
                  expression</quote><footnote>
                    <para>For more information, you can read the article <ulink url="&url-wp-en;Regular_expression">Regular
                      expression</ulink> in Wikipedia.
                    </para>
                  </footnote>also known as <foreignphrase><abbrev>RegEx</abbrev></foreignphrase>.
                </para>
              </step>
            </substeps>
          </step>

          <step>
            <title><guilabel>Preview</guilabel></title>

            <para>In the large central area a preview of the first 10 lines of the previously selected import file is
              displayed. Here you can easily check whether you have selected the correct file and
              the correct column separator.
            </para>

            <tip>
              <para>If no data is displayed in the <guilabel>Preview</guilabel> or the display does not matches your
                expectations, then simply try different <guilabel>Separator Type</guilabel>.
              </para>
            </tip>
          </step>

          <step>
            <title><guilabel>Column headers</guilabel></title>

            <para>The structure of the file to be imported is prescribed by &app; and cannot be configured. For this
              reason, for a successful import of the account structure, the contents in the
              individual columns of the CSV file must correspond to the sequence as listed below.
              The meaning of each field is described in detail in <xref linkend="acct-gen-info"/>.
            </para>

            <orderedlist spacing="compact">
              <listitem>
                <para><guilabel>Type</guilabel>
                </para>
              </listitem>

              <listitem>
                <para><guilabel>Account Full Name</guilabel>
                </para>
              </listitem>

              <listitem>
                <para><guilabel>Account Name</guilabel>
                </para>
              </listitem>

              <listitem>
                <para><guilabel>Account Code</guilabel>
                </para>
              </listitem>

              <listitem>
                <para><guilabel>Description</guilabel>
                </para>
              </listitem>

              <listitem>
                <para><guilabel>Account Color</guilabel>
                </para>
              </listitem>

              <listitem>
                <para><guilabel>Notes</guilabel>
                </para>
              </listitem>

              <listitem>
                <para><guilabel>Symbol</guilabel>
                </para>
              </listitem>

              <listitem>
                <para><guilabel>Namespace</guilabel>
                </para>
              </listitem>

              <listitem>
                <para><guilabel>Hidden</guilabel>
                </para>
              </listitem>

              <listitem>
                <para><guilabel>Tax Info</guilabel>
                </para>
              </listitem>

              <listitem>
                <para><guilabel>Placeholder</guilabel>
                </para>
              </listitem>
            </orderedlist>
          </step>
        </substeps>
      </step>

      <step>
        <title><guilabel>Import Accounts Now</guilabel></title>

        <para>The filename and path of the file to be imported is displayed. To import the account structure now
          finally press the <guibutton>Apply</guibutton> button.
        </para>

        <para>After a short time, during which the data is processed, the dialog opens <guilabel>Book options for
          new book</guilabel>. You can now make some settings for the book, see
          <xref linkend="book-options" />. If you do not want this at this time and press
          <guibutton>Cancel</guibutton> instead, the accounts will be imported anyway.
        </para>
      </step>

      <step>
        <title><guilabel>Import Summary</guilabel></title>

        <para>Displays a summary of the import process. This consists of an indication of how many accounts have
          been successfully added and updated, and whether any errors occurred including a list of
          the erroneous positions with the row number in the CSV file.
        </para>
      </step>
    </procedure>
  </sect1>
 
  <sect1 id="acct-export">
    <title>Exporting accounts</title>

    <itemizedlist>
      <para>If you have the need to export your &app; accounts, you have the choice between two different export
        formats:
      </para>

      <listitem>
        <para>XML format or also database formats. Which database interface is available depends on the systems
          you have installed. &app; supports e.g. <acronym>SQLite3</acronym>,
          <acronym>mysql</acronym> and <acronym>postgres</acronym>.
        </para>
      </listitem>

      <listitem>
        <para>CSV format as a common exchange format for tables.
        </para>
      </listitem>
    </itemizedlist>

    <para>With both methods, the complete account structure is saved without any further content, such as e.g.
      posting data and account balances or also customers, suppliers, budgets as well as scheduled
      transactions.
    </para>

    <sect2 id="acct-export-xml">
      <title>Export accounts to a new &appname; book</title>

      <para>With the menu item<menuchoice>
          <guimenu><accel>F</accel>ile</guimenu><guisubmenu><accel>E</accel>xport</guisubmenu><guimenuitem>Export<accel>A</accel>ccounts
          </guimenuitem>
        </menuchoice>you can export your complete &app;-account hierarchy into an <acronym>XML</acronym>- or
        <acronym>SQLite3</acronym>-file or also into a database. With this function you have the
        possibility e.g. at the end of a year to make a book closing and start the new year with an
        empty &app; file.
      </para>

      <para>The usual file save dialog opens, with a selection field in the upper area for the data output in
        <guilabel>XML</guilabel> or <guilabel>SQLite3</guilabel> format. If you have already
        installed configured database systems, they will also be also offered here for selection.
      </para>

      <table id="Account-Export-Dialog">
        <title>Dialog for exporting accounts</title>

        <tgroup align="left" cols="2">
          <colspec colwidth="0.5*"/>

          <colspec colwidth="0.5*"/>

          <tbody>
            <row valign="top">
              <entry>
                <para><figure>
                    <title>Export to file</title><screenshot>
                      <mediaobject>
                        <imageobject>
                          <imagedata fileref="figures/AccountTree_Export_file.png" 
                         srccredit="Frank H. Ellenberger" width="100%"></imagedata>
                        </imageobject>
                      </mediaobject>
                    </screenshot>
                  </figure>
                </para>
              </entry>

              <entry>
                <para><figure>
                    <title>Export to database</title><screenshot>
                      <mediaobject>
                        <imageobject>
                          <imagedata fileref="figures/AccountTree_Export_dbms.png" 
                         srccredit="Frank H. Ellenberger" width="100%"></imagedata>
                        </imageobject>
                      </mediaobject>
                    </screenshot>
                  </figure>
                </para>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </table>

      <variablelist>
        <varlistentry>
          <term><guilabel>XML</guilabel></term>

          <term><guilabel>SQLite3</guilabel></term>

          <listitem>
            <para>In the file selection dialog you can enter the file name and the directory/folder where the file is
              to be saved. By pressing the button <guilabel>Save as…</guilabel> the file is
              written. You have here no further control over the result of the export file.
            </para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><guilabel>mysql</guilabel></term>

          <term><guilabel>postgres</guilabel></term>

          <listitem>
            <para>The view of the dialog changes and input fields for the information about the database connection
              are requested. If you want to store your &app;-data in a database system, you need
              write access to an existing database or the authorization to create a new database.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>

      <para>The exported file can be opened via<menuchoice>
          <guimenu><accel>F</accel>ile</guimenu><guimenuitem><accel>O</accel>pen</guimenuitem>
        </menuchoice>in &app;. You must then manually enter the opening opening balances for all accounts.<tip>
          <para>Open for this e.g. a 2nd instance of &app;, in order to transfer the closing balance of the old file
            as the opening balance in the new file.
          </para>
        </tip>
      </para>
    </sect2>

    <sect2 id="acct-export-csv">
      <title>Export accounts as CSV</title>

      <para>&app; allows you to export your account hierarchy in <acronym>CSV</acronym> format, where you can
        customize the column delimiter to suit your needs. This can be useful to be able to use the
        same application, e.g. the unfortunately no longer maintained &app-gfa;, to have the same
        account structure in another application.
      </para>

      <para>To do this, select in the menu<menuchoice>
          <guimenu><accel>F</accel>ile</guimenu><guisubmenu><accel>E</accel>xport</guisubmenu><guimenuitem>Account
          T<accel>r</accel>ee to CSV…</guimenuitem>
        </menuchoice>and a dialog for the <guilabel>Export settings</guilabel> will open.
      </para>

      <figure pgwide="1">
        <title>Wizard for exporting the account hierarchy in CSV format</title><screenshot id="accounts-export-wizard">
          <mediaobject>
            <imageobject role="html">
              <imagedata fileref="figures/AccountTree_Export_CSV.png" srccredit="Christian Wehling" width="&img-w;" />
            </imageobject>

            <imageobject role="fo">
              <imagedata fileref="figures/AccountTree_Export_CSV.png" srccredit="Christian Wehling" />
            </imageobject>
          </mediaobject>
        </screenshot>
      </figure>

      <xi:include href="Help_para-assist-intro.xml"/>

      <procedure>
        <title>Steps of the export dialog</title>

        <para>The function of the controls of each step are described below or are displayed as tooltip in the
          wizard.
        </para>

        <step>
          <title><guilabel>Choose Export Settings</guilabel></title>

          <para>In this step you can set various preferences for the formatting of the accounts to be exported.
          </para>

          <substeps>
            <step>
              <title><guilabel>Options</guilabel></title>

              <para>This checkbox can be used in addition to the <guilabel>separator</guilabel>:
              </para>

              <substeps>
                <step>
                  <title><guilabel>Use quotes</guilabel></title>

                  <para>Encloses each data field with quotes.
                  </para>
                </step>
              </substeps>
            </step>

            <step>
              <title><guilabel>Separators</guilabel></title>

              <para>With these radio buttons you can choose with which column separator your data are separated:
              </para>

              <substeps>
                <step>
                  <title><guilabel>Comma (,)</guilabel></title>

                  <para>The <keycap>,</keycap> should not be used as a column separator in the German language area unless
                    the dot is used as a decimal separator in the file.
                  </para>
                </step>

                <step>
                  <title><guilabel>Colon (;)</guilabel></title>

                  <para>Select a <keycap>;</keycap> to separate the columns when the comma is used as decimal separator.
                  </para>
                </step>

                <step>
                  <title><guilabel>Semicolon (:)</guilabel></title>

                  <para>Use a <keycap>:</keycap> as column separator. Popularly used by GNU programs.
                  </para>
                </step>

                <step>
                  <title><guilabel>Custom</guilabel></title>

                  <para>Use any characters to separate the columns by typing them into the text box.
                  </para>
                </step>
              </substeps>
            </step>
          </substeps>
        </step>

        <step>
          <title><guilabel>Choose File Name for Export</guilabel></title>

          <para>A file selection dialog is displayed for specifying a file name and a path to the directory/folder
            where the file is to be saved.
          </para>
        </step>

        <step>
          <title><guilabel>Export Now…</guilabel></title>

          <para>The filename and path of the file to be exported and the number of accounts to be exported are
            displayed. To continue the export press the <guibutton>Apply</guibutton> button.
          </para>
        </step>

        <step>
          <title><guilabel>Export summary</guilabel></title>

          <para>Displays a message when the file has been exported successfully, or an error message with hints why
            it failed.
          </para>
        </step>
      </procedure>
    </sect2>
  </sect1>
</chapter>
